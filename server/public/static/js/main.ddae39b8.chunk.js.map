{"version":3,"sources":["Components/Auth/UserContext.js","Components/Auth/withUser.js","Components/NavMain.jsx","API/apiHandler.js","Components/User/Forms/SignIn.jsx","Views/SignIn.jsx","Components/User/Forms/SignUp.jsx","Views/SignUp.jsx","Components/Rating.jsx","Components/Beers/BeerList.jsx","Views/Beers.jsx","Views/Lost.jsx","Components/Reviews/ReviewRating.jsx","Components/UploadWidget.jsx","Components/Reviews/ReviewForm.jsx","Components/ImageScroller.jsx","Components/Button.jsx","Components/FeedBack.jsx","Components/BrewSearchBar.jsx","utils.js","Components/Beers/UpdateBeer.jsx","Views/BeerDetails.jsx","Views/UserBeers.jsx","Views/Home.jsx","Components/MapComponent.jsx","Components/AddressSearch.jsx","Components/Breweries/CreateBrewery.jsx","Components/Breweries/UpdateBrewery.jsx","Components/Breweries/BreweryDetails.jsx","Views/MapPage.jsx","Components/SearchBar.jsx","Views/NewBeer.jsx","Components/User/Forms/UpdateUser.jsx","Components/Reviews/UpdateReview.jsx","Views/Profile.jsx","App.jsx","reportWebVitals.js","Components/Auth/UserProvider.js","index.js"],"names":["UserContext","React","createContext","withUser","ComponentToExposeContextTo","props","Consumer","context","className","isLoggedIn","exact","to","service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","signup","userInfo","post","then","res","catch","signin","get","logout","searchBeers","query","searchBreweries","getUser","editUser","userUpdate","patch","getUserReviews","getUserImages","getUserBeers","addUserBeer","beerId","removeUserBeer","deleteUser","delete","getBeers","getOneBeer","CreateBeer","newBeer","editBeer","beerUpdate","getBeerReviews","getBeerImages","deleteBeer","getBreweries","getOneBrewery","breweryId","CreateBrewery","newBrewery","editBrewery","breweryUpdate","getBreweryReviews","getBreweryImages","getBreweryBeers","deleteBrewery","getReviews","getOneReview","reviewId","CreateReview","newReview","editReview","reviewUpdate","deleteReview","getImages","getOneimage","imageId","Createimage","newimage","deleteimage","Signin","state","email","password","handleChange","event","value","target","key","name","setState","handleSubmit","preventDefault","apiHandler","setUser","this","autoComplete","onSubmit","onChange","id","type","placeholder","Component","contextType","SignInPage","SignIn","Signup","SignUpPage","SignUp","Rating","num","Math","round","rating","starOne","starTwo","starThree","starFour","starFive","rel","href","BeerList","beerList","map","beer","src","image","alt","_id","breweryname","beers","sendBeer","popUp","rankedBeer","normList","handleListNormal","handleListRanked","handleLogout","removeUser","history","push","list","sort","a","b","releasedate","err","listType","onClick","Lost","ReviewRating","handleOne","setRate","handleTwo","handleThree","handleFour","handleFive","UploadWidget","forwardRef","ref","Fragment","htmlFor","children","file","files","tempURL","URL","createObjectURL","onFileSelect","userId","user","beerName","beername","beerid","userid","imageRef","createRef","comment","fd","FormData","append","entries","pair","current","onComplete","handleFileSelect","temporaryURL","tmpUrl","handleAddStars","ImageScroller","images","imagesList","photos","number","photo","showPhoto","handleNextPhoto","max","length","abs","handlePreviousPhoto","handleShowPhoto","photoClicked","handleDeleteBeer","photoId","deleteImage","array","Button","selectedClass","disabled","handleClick","rest","styles","primary","secondary","FeedBack","status","message","SearchBar","search","results","isLoading","handleSearch","clearTimeout","timeoutId","setTimeout","performSearch","brewery","onSelect","handleBreweryClicked","buildFormData","formData","parentKey","Date","File","Object","keys","forEach","UpdateBeer","httpResponse","formRef","httpRespons","handleClose","handleBrewerySelect","breweryid","description","abv","date","defaultValue","BrewSearchBar","withRouter","match","params","userBeers","alreadyDrunk","reviewForm","imageForm","beerImages","beerReviews","showSettings","handleAddBeer","handleRemoveBeer","handleShowReview","handleShowImage","handleShowSettings","handleBeerChange","undefined","includes","beerID","review","Beers","Home","mapboxgl","workerClass","require","default","Map","ReactMapboxGl","accessToken","MapComponent","breweries","longitude","latitude","breweryClicked","showDetails","showName","breweryList","style","zoom","containerStyle","top","left","bottom","right","position","center","coordinates","anchor","markerClick","PureComponent","AutocompletePlace","handleSearchChange","e","features","handleItemClicked","place","place_name","selectedBeer","website","establisheddate","address","handleOnSubmit","handleAddressSelect","location","geometry","UpdateBrewery","BreweryDetails","breweryBeers","handleBeerList","handleDescription","handleBreweryChange","closePopUp","handlebreweryChange","userCity","city","selectedBrewery","showForm","handleShowDetails","handleMarkerClick","handleShowForm","deRes","result","handleBeerClicked","NewBeer","showSearch","handleFormClick","handleSearchClick","handleBeerSelect","UpdateUser","userName","isValidInput","checkError","handleDeleteUser","handleDeleteReview","reviews","beerCount","reviewCLicked","reviewEdit","imageBox","imageNumber","handleReviewClicked","handleReviewClose","dbRes","updated_at","slice","UpdateReview","App","loading","path","component","UserBeers","BeerDetails","MapPage","Profile","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","UserProvider","contextValue","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ddae39b8.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst UserContext = React.createContext();\r\n\r\nexport default UserContext;","import React from \"react\";\r\nimport UserContext from \"./UserContext\";\r\n\r\nconst withUser = (ComponentToExposeContextTo) => (props) => {\r\n  return (\r\n    <UserContext.Consumer>\r\n      {(context) => <ComponentToExposeContextTo {...props} context={context} />}\r\n    </UserContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default withUser;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport withUser from \"./Auth/withUser\";\r\nimport \"../Styles/NavMain.css\";\r\n\r\nconst Navbar = (props) => {\r\n    const { context } = props\r\n\r\n    \r\n    return (\r\n        <nav className=\"navbar\">\r\n\r\n            {context.isLoggedIn && (\r\n        <ul className=\"nav__list\">\r\n            <li>\r\n                    <NavLink exact to=\"/beer\" className=\"nav__link\">\r\n                        <div>\r\n                            Beers\r\n                        </div>\r\n                    </NavLink>\r\n            </li>   \r\n            <li>\r\n                <NavLink exact to=\"/map\" className=\"nav__link middle\">\r\n                    <div >\r\n                        Map\r\n                    </div>\r\n                </NavLink>\r\n            </li>  \r\n            <li>\r\n                <NavLink exact to=\"/profile\" className=\"nav__link\">\r\n                    <div>\r\n                        Profile\r\n                    </div>\r\n                </NavLink>\r\n            </li>    \r\n        </ul>\r\n                )}\r\n\r\n                {!context.isLoggedIn && (\r\n        <ul className=\"nav__list\">\r\n            <li >\r\n                <NavLink exact to=\"/signin\" className=\"nav__link-half left\">\r\n                <div>\r\n                 Sign In\r\n                </div>\r\n                </NavLink> \r\n            </li>\r\n            <li >\r\n                <NavLink exact to=\"/signup\" className=\"nav__link-half\">\r\n                <div>\r\n                 Sign Up\r\n                </div>\r\n                </NavLink> \r\n            </li>\r\n        </ul>\r\n\r\n                )}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default withUser(Navbar)\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n  baseURL: process.env.REACT_APP_BACKEND_URL,\r\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\r\n});\r\n\r\nfunction errorHandler(error) {\r\n  if (error.response.data) {\r\n    console.log(error.response && error.response.data);\r\n    throw error;\r\n  }\r\n  throw error;\r\n}\r\n\r\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\nexport default {\r\n  service,\r\n\r\n  // ------ Authentification ---------\r\n\r\n  signup(userInfo) {\r\n    return service\r\n      .post(\"/api/auth/signup\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  signin(userInfo) {\r\n    return service\r\n      .post(\"/api/auth/signin\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  isLoggedIn() {\r\n    return service\r\n      .get(\"/api/auth/isLoggedIn\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  logout() {\r\n    return service\r\n      .get(\"/api/auth/logout\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // ------ Searches -------\r\n\r\n  searchBeers(query) {\r\n    \r\n    return service\r\n      .get(`/api/beer/find/?name=${query}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  searchBreweries(query) {\r\n    return service\r\n      .get(`/api/brewery/find/?name=${query}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n\r\n  // ------ User ---------\r\n\r\n  getUser() {\r\n    return service\r\n      .get(\"/api/users/me\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  editUser(userUpdate) {\r\n    return service\r\n      .patch(\"/api/users/edit/me\", userUpdate)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getUserReviews() {\r\n    return service\r\n      .get(\"/api/users/me/reviews\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getUserImages() {\r\n    return service\r\n      .get(\"/api/users/me/images\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getUserBeers() {\r\n    return service\r\n      .get(\"/api/users/me/beers\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  addUserBeer(beerId) {\r\n    return service\r\n      .patch(`/api/users/me/beer/add/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  removeUserBeer(beerId) {\r\n    return service\r\n      .patch(`/api/users/me/beer/remove/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  deleteUser() {\r\n    return service\r\n      .delete(\"/api/users/me/delete\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // ------ Beers ---------\r\n\r\n  getBeers() {\r\n    return service\r\n      .get(\"/api/beer\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getOneBeer(beerId) {\r\n    return service\r\n      .get(`/api/beer/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  CreateBeer(newBeer) {\r\n    return service\r\n      .post(\"/api/beer/add-beer\", newBeer)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  editBeer(beerId, beerUpdate) {\r\n    return service\r\n      .patch(`/api/beer/edit-beer/${beerId}`, beerUpdate)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getBeerReviews(beerId) {\r\n    return service\r\n      .get(`/api/beer/reviews/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getBeerImages(beerId) {\r\n    return service\r\n      .get(`/api/beer/images/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  deleteBeer(beerId) {\r\n    return service\r\n      .delete(`/api/beer/delete/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // ------ Brewery ---------\r\n\r\n  getBreweries() {\r\n    return service\r\n      .get(\"/api/brewery\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getOneBrewery(breweryId) {\r\n    return service\r\n      .get(`/api/brewery/${breweryId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  CreateBrewery(newBrewery) {\r\n    return service\r\n      .post(\"/api/brewery/add-brewery\", newBrewery)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  editBrewery(breweryId, breweryUpdate) {\r\n    return service\r\n      .patch(`/api/brewery/edit/${breweryId}`, breweryUpdate)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getBreweryReviews(breweryId) {\r\n    return service\r\n      .get(`/api/brewery/reviews/${breweryId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getBreweryImages(breweryId) {\r\n    return service\r\n      .get(`/api/brewery/images/${breweryId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getBreweryBeers(breweryId) {\r\n    return service\r\n    .get(`/api/brewery/beers/${breweryId}`)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  deleteBrewery(breweryId) {\r\n    return service\r\n      .delete(`/api/brewery/delete/${breweryId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // ------ Review ---------\r\n\r\n\r\n  getReviews() {\r\n    return service\r\n      .get(\"/api/review\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getOneReview(reviewId) {\r\n    return service\r\n      .get(`/api/review/${reviewId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  CreateReview(newReview) {\r\n    return service\r\n      .post(\"/api/review/\", newReview)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  editReview(reviewId, reviewUpdate) {\r\n    return service\r\n      .patch(`/api/review/edit/${reviewId}`, reviewUpdate)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  deleteReview(reviewId) {\r\n    return service\r\n      .delete(`/api/review/delete/${reviewId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n\r\n  // ------ Images ---------\r\n\r\n  \r\n  getImages() {\r\n    return service\r\n      .get(\"/api/image\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getOneimage(imageId) {\r\n    return service\r\n      .get(`/api/image/${imageId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  Createimage(newimage) {\r\n    return service\r\n      .post(\"/api/image/\", newimage)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  deleteimage(imageId) {\r\n    return service\r\n      .delete(`/api/image/delete/${imageId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../../Auth/UserContext\";\r\nimport apiHandler from \"../../../API/apiHandler\";\r\nimport '../../../Styles/Auth.css'\r\n// import \"../../styles/form.css\";\r\n\r\nclass Signin extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    apiHandler\r\n      .signin(this.state)\r\n      .then((data) => {\r\n        this.context.setUser(data); // update the context\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (this.context.isLoggedIn) {\r\n      console.log(\"already signed in\");\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <section className=\"auth__form-section\">\r\n        <header className=\"flex-center auth__header\">\r\n          <h1>\r\n            Welcome back Can Fan\r\n          </h1>\r\n        </header>\r\n\r\n        <form autoComplete=\"off\" className=\" flex-center auth__form\" onSubmit={this.handleSubmit}>\r\n\r\n\r\n          <div className=\"auth__form-group\">\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.email}\r\n              className=\"auth__input\"\r\n              id=\"email\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email Address\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"auth__form-group\">\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.password}\r\n              className=\"auth__input\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </div>\r\n\r\n          <button className=\"auth__btn\">\r\n            <h2>Sign in</h2>\r\n          </button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signin;","import React from \"react\";\r\nimport SignIn from \"../Components/User/Forms/SignIn\";\r\n\r\n\r\nconst SignInPage = (props) => {\r\n  return <SignIn />;\r\n};\r\n\r\nexport default SignInPage;\r\n","  \r\nimport React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../../Auth/UserContext\";\r\nimport apiHandler from \"../../../API/apiHandler\";\r\n// import \"../../styles/form.css\";\r\n\r\nclass Signup extends Component {\r\n  static contextType = UserContext;\r\n  state = {};\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    apiHandler\r\n      .signup(this.state)\r\n      .then((data) => {\r\n        this.context.setUser(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (this.context.isLoggedIn) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <section className=\"auth__form-section\">\r\n        <header className=\"flex-center auth__header\">\r\n          <h1>\r\n            Welcome to Canned!\r\n          </h1>\r\n        </header>\r\n\r\n        <form\r\n          autoComplete=\"off\"\r\n          className=\"flex-center auth__form\"\r\n          onChange={this.handleChange}\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n\r\n\r\n          <div className=\"auth__form-group\">\r\n            <input\r\n              className=\"auth__input\"\r\n              id=\"userName\"\r\n              type=\"text\"\r\n              name=\"userName\"\r\n              placeholder=\"User Name\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"auth__form-group\">\r\n         \r\n            <input \r\n              className=\"auth__input\" \r\n              id=\"email\" \r\n              type=\"email\" \r\n              name=\"email\" \r\n              placeholder=\"Email Address\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"auth__form-group\">\r\n\r\n            <input\r\n              className=\"auth__input\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </div>\r\n\r\n          \r\n          <div className=\"auth__form-group\">\r\n\r\n            <input\r\n              className=\"auth__input\"\r\n              id=\"city\"\r\n              type=\"text\"\r\n              name=\"city\"\r\n              placeholder=\"Home City\"\r\n            />\r\n          </div>\r\n\r\n          <button className=\"auth__btn\">\r\n            <h2>Sign up</h2>\r\n          </button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signup;","import React from \"react\";\r\nimport SignUp from \"../Components/User/Forms/SignUp\";\r\n\r\nconst SignUpPage = (props) => {\r\n  return <SignUp />;\r\n};\r\n\r\nexport default SignUpPage;\r\n","import React from 'react'\r\nimport \"../Styles/Rating.css\"\r\n\r\nconst Rating = (props) => {\r\n\r\n    \r\n    let num = Math.round(props.rating)\r\n\r\n    let starOne = num < 1 ? \"empty\" : \"\";\r\n    let starTwo = num < 2 ? \"empty\" : \"\";\r\n    let starThree = num < 3 ? \"empty\" : \"\";\r\n    let starFour = num < 4 ? \"empty\" : \"\";\r\n    let starFive = num < 5 ? \"empty\" : \"\";\r\n\r\n    return (\r\n        <div className=\"star__box\">\r\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\r\n\r\n        <span className={`fa fa-star ${starOne}`} ></span>\r\n        <span className={`fa fa-star ${starTwo}`}></span>\r\n        <span className={`fa fa-star ${starThree}`}></span>\r\n        <span className={`fa fa-star ${starFour}`}></span>\r\n        <span className={`fa fa-star ${starFive}`}></span>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Rating\r\n","import React from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport Rating from \"../Rating\"\r\n\r\nconst BeerList = (props) => {\r\n\r\n    const beerList = props.beerList\r\n    console.log(props);\r\n\r\n    return (\r\n        <div>\r\n        <ul className=\"beer__list\">\r\n          {beerList.map((beer) => (\r\n            <li className=\"beer__list-item\" key={beer._id}>\r\n              <div className=\"beer__box\">\r\n                <div className=\"beer__image-box\">\r\n                  <img\r\n                    className=\"beer__image\"\r\n                    src={beer.image}\r\n                    alt={beer.name}\r\n                  />\r\n                </div>\r\n                <div className=\"beer__info\">\r\n                <Link exact to={`/beer-detail/${beer._id}`}>\r\n                  <h3>{beer.name}</h3>\r\n                </Link>\r\n                <h4>{beer.breweryname}</h4>\r\n                <Rating rating={beer.rating} />\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BeerList\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport apiHandler from \"../API/apiHandler\";\r\nimport Rating from \"../Components/Rating\"\r\nimport BeerList from '../Components/Beers/BeerList'\r\nimport withUser from \"../Components/Auth/withUser\";\r\nimport '../Styles/Beer.css'\r\n// import SearchBar from './SearchBar';\r\n\r\nexport class Beers extends Component {\r\n  state = {\r\n    beers: null,\r\n    sendBeer: [],\r\n    popUp: false,\r\n    rankedBeer: null,\r\n    normList: true,\r\n\r\n\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .getBeers()\r\n      .then((response) => {\r\n\r\n        const list = [...response]\r\n\r\n        list.sort((a,b)=> {\r\n          return b.releasedate - a.releasedate\r\n        })\r\n\r\n        this.setState({beers: list});\r\n\r\n        const ranked = response.sort((a,b) => {\r\n          return b.rating - a.rating\r\n        })\r\n        this.setState({ rankedBeer: response })\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleListNormal = () => {\r\n      this.setState({normList: true})\r\n  }\r\n\r\n  handleListRanked = () => {\r\n    this.setState({normList: false})\r\n}\r\n\r\nhandleLogout = () => {\r\n  const { context } = this.props;\r\n\r\n  apiHandler\r\n    .logout()\r\n    .then(() => {\r\n      context.removeUser();\r\n      this.props.history.push(\"/\");\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\n\r\n  render() {\r\n\r\n    if (this.state.beers === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    const listType = this.state.normList ? this.state.beers : this.state.rankedBeer\r\n\r\n    return (\r\n      <div className=\"beer__main-list\">\r\n\r\n        <div className=\"beer__list-type\">\r\n          <div onClick={this.handleListNormal} className=\"beer__list-switch\"><h2>Latest</h2></div>\r\n          <div onClick={this.handleListRanked} className=\"beer__list-switch\"><h2>Top rated</h2></div>\r\n        </div>\r\n        <BeerList beerList={listType}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(Beers);\r\n","import React from 'react';\r\n\r\nconst Lost = () => {\r\n    return (\r\n        <div>\r\n\r\n            <div className=\"lost\">\r\n                <p>you seem a bit lost, let's get back to the beer!</p>                \r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Lost\r\n","\r\nimport React, { Component } from 'react'\r\nimport '../../Styles/Rating.css'\r\n\r\nexport class ReviewRating extends Component {\r\n\r\n    state = {\r\n        rating: 0,\r\n        starOne: \"empty\",\r\n        starTwo: \"empty\",\r\n        starThree: \"empty\",\r\n        starFour: \"empty\",\r\n        starFive: \"empty\",\r\n    }\r\n\r\n    \r\n    handleOne = () => {\r\n        this.setState({\r\n            rating: 1,\r\n            starOne: \"\",\r\n            starTwo: \"empty\",\r\n            starThree: \"empty\",\r\n            starFour: \"empty\",\r\n            starFive: \"empty\",\r\n          \r\n        })\r\n\r\n        this.props.setRate(this.state.rating)\r\n        console.log(this.state);\r\n    }\r\n\r\n    handleTwo = () => {\r\n        this.setState({\r\n            rating: 2,\r\n            starOne: \"\",\r\n            starTwo: \"\",\r\n            starThree: \"empty\",\r\n            starFour: \"empty\",\r\n            starFive: \"empty\",\r\n        })\r\n        this.props.setRate(this.state.rating)\r\n        console.log(this.state);\r\n    }\r\n\r\n    handleThree = () => {\r\n        this.setState({\r\n            rating: 3,\r\n            starOne: \"\",\r\n            starTwo: \"\",\r\n            starThree: \"\",\r\n            starFour: \"empty\",\r\n            starFive: \"empty\",\r\n   \r\n        })\r\n        this.props.setRate(this.state.rating)\r\n        console.log(this.state);\r\n    }\r\n\r\n    handleFour = () => {\r\n        this.setState({\r\n            rating: 4,\r\n            starOne: \"\",\r\n            starTwo: \"\",\r\n            starThree: \"\",\r\n            starFour: \"\",\r\n            starFive: \"empty\",\r\n        })\r\n        this.props.setRate(this.state.rating)\r\n        console.log(this.state);\r\n    }\r\n\r\n    handleFive = () => {\r\n        this.setState({\r\n            rating: 5,\r\n            starOne: \"\",\r\n            starTwo: \"\",\r\n            starThree: \"\",\r\n            starFour: \"\",\r\n            starFive: \"\",\r\n        })\r\n        this.props.setRate(this.state.rating)\r\n        console.log(this.state);\r\n    }\r\n\r\n    render() {\r\n\r\n        \r\n\r\n        return (\r\n            <div>\r\n                <div className=\"review__star__box\">\r\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\r\n\r\n                    <span onClick={this.handleOne} className={`fa fa-star ${this.state.starOne}`} ></span>\r\n                    <span onClick={this.handleTwo} className={`fa fa-star ${this.state.starTwo}`}></span>\r\n                    <span onClick={this.handleThree} className={`fa fa-star ${this.state.starThree}`}></span>\r\n                    <span onClick={this.handleFour} className={`fa fa-star ${this.state.starFour}`}></span>\r\n                    <span onClick={this.handleFive} className={`fa fa-star ${this.state.starFive}`}></span>\r\n            \r\n                </div>\r\n                        \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ReviewRating\r\n\r\n","import React from \"react\";\r\nimport '../Styles/UploadWidget.css'\r\n\r\n// https://reactjs.org/docs/forwarding-refs.html\r\n\r\nconst UploadWidget = React.forwardRef((props, ref) => {\r\n  // In this component we foward the ref of the input type file in order to deal with it in the parent component.\r\n\r\n  const handleFileSelect = (event) => {\r\n    // This feature allows us to create a \"fake URL\" of the file that the user wants to upload\r\n    // In order to display the output to the user.\r\n    // See <FormProfile /> or <ItemForm />\r\n    const file = event.target.files[0];\r\n    const tempURL = URL.createObjectURL(file);\r\n    props.onFileSelect && props.onFileSelect(tempURL);\r\n    // ^------------------------ You can use guard operators in your normal javascript too !\r\n    // This means that the prop onFileSelect isn't mandatory in order to use this component.\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <label className=\"UploadWidget label\" htmlFor={props.name}>\r\n        {props.children}\r\n      </label>\r\n      <input\r\n        onChange={handleFileSelect}\r\n        ref={ref}\r\n        className=\"UploadWidget input\"\r\n        id={props.name}\r\n        name={props.name}\r\n        type=\"file\"\r\n      />\r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\nexport default UploadWidget;\r\n","  \r\nimport React, { Component } from \"react\";\r\n// import UserContext from \"../Auth/UserContext\";\r\nimport withUser from '../Auth/withUser'\r\nimport apiHandler from \"../../API/apiHandler\";\r\nimport ReviewRating from '../Reviews/ReviewRating';\r\nimport UploadWidget from '../UploadWidget'\r\n\r\n// import \"../../styles/form.css\";\r\n\r\nclass ReviewForm extends Component {\r\n  // static contextType = UserContext;\r\n  beerId = this.props.beerId\r\n  userId = this.props.context.user._id\r\n  beerName = this.props.beerName\r\n\r\n  state = {\r\n      beername: this.beerName,\r\n      beerid: this.beerId,\r\n      userid: this.userId,\r\n  };\r\n\r\n  \r\n\r\n\r\n  imageRef = React.createRef();\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n    console.log(this.state);\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n   \r\n    const {beername, beerid, userid, rating, comment} = this.state;\r\n    \r\n    const newReview = {\r\n      beerid,\r\n      beername,\r\n      userid,\r\n      rating,\r\n      comment,\r\n    }\r\n\r\n\r\n\r\n\r\n    const fd = new FormData();\r\n\r\n    for (const key in this.state) {\r\n      if (key === \"image\") continue;\r\n      fd.append(key, this.state[key]);\r\n    }\r\n\r\n    for (var pair of fd.entries()) {\r\n      console.log(pair[0] + \", \" + pair[1]);\r\n    }\r\n\r\n    if (this.imageRef.current.files[0]) {\r\n      fd.append(\"image\", this.imageRef.current.files[0]);\r\n    }\r\n    \r\n    apiHandler\r\n      .CreateReview(newReview)\r\n      .then((data) => {\r\n        console.log(data, \"success\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    if (this.imageRef.current.files[0]) {\r\n      apiHandler\r\n      .Createimage(fd)\r\n      .then((data) => {\r\n        console.log(data, \"success\");\r\n      })\r\n      .catch(err => console.log(err))\r\n    }\r\n\r\n    this.props.onComplete()\r\n  };\r\n\r\n  handleFileSelect = (temporaryURL) => {\r\n    // Get the temporaryURL from the UploadWidget component and\r\n    // set the state so we can have a visual feedback on what the image will look like :)\r\n    this.setState({ tmpUrl: temporaryURL });\r\n  };\r\n\r\n  handleAddStars = (rating) => {\r\n      this.setState({rating: rating})\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    console.log(this.state);\r\n\r\n    return (\r\n      <section className=\"details__review-form\">\r\n        <header className=\"header\">\r\n          <h3>\r\n            Add a Review of {this.props.beerName}\r\n          </h3>\r\n        </header>\r\n\r\n        <form\r\n          autoComplete=\"off\"\r\n          className=\"form\"\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n\r\n            \r\n            <div className=\"form-group\">\r\n            <ReviewRating setRate={this.handleAddStars}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <textarea\r\n                className=\"review-comment\"\r\n                id=\"comment\"\r\n                type=\"text\"\r\n                name=\"comment\"\r\n                value={this.state.comment}\r\n                placeholder=\"Write your thoughts\"\r\n                onChange={this.handleChange}\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div className=\"newbeer__image-output\">\r\n              <UploadWidget\r\n                ref={this.imageRef}\r\n                onFileSelect={this.handleFileSelect}\r\n                name=\"image\"\r\n              >\r\n                Upload image\r\n              </UploadWidget>\r\n\r\n              <div className=\"newbeer__image\">\r\n                {!this.state.tmpUrl ? (\r\n                  \"\"\r\n                ) : (\r\n                  <img src={this.state.tmpUrl} alt=\"beer\" />\r\n                )}\r\n              </div>\r\n            </div>\r\n          <button className=\"btn-submit\">Review Can</button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(ReviewForm);","import React, { Component } from 'react'\r\nimport '../Styles/ImageScroller.css'\r\nimport apiHandler from '../API/apiHandler'\r\n\r\nexport class ImageScroller extends Component {\r\n\r\n    images = this.props.imagesList\r\n\r\n    state = {\r\n        photos: this.images,\r\n        number: 0,\r\n        photo: 0,\r\n        showPhoto: false,\r\n    }\r\n\r\n    handleNextPhoto = () => {\r\n        const max = this.state.photos.length\r\n        this.setState({number: this.state.number +1})\r\n        const num = Math.abs(this.state.number)%max\r\n        this.setState({photo: num})\r\n        console.log(this.state.photo, this.state.number);\r\n\r\n    }\r\n\r\n    handlePreviousPhoto = () => {\r\n        const max = this.state.photos.length\r\n        this.setState({number: this.state.number -1})\r\n        const num = Math.abs(this.state.number)%max\r\n        this.setState({photo: num})\r\n        console.log(this.state.photo, this.state.number);\r\n    }\r\n\r\n    handleShowPhoto = (photo) => {\r\n      this.setState({\r\n        showPhoto: !this.state.showPhoto,\r\n        photoClicked: photo,\r\n      })\r\n    }\r\n\r\n    handleShowPhoto = (photo) => {\r\n      this.setState({\r\n        showPhoto: !this.state.showPhoto,\r\n        photoClicked: photo,\r\n      })\r\n    }\r\n\r\n    handleDeleteBeer = (photoId) => {\r\n      apiHandler\r\n      .deleteImage(photoId)\r\n      .then(response => {\r\n        console.log(\"success\", response);\r\n        this.props.history.push(\"/profile\")\r\n      })\r\n      .catch(err => {console.log(err)})\r\n      \r\n    }\r\n\r\n    render() {\r\n\r\n        const array = this.state.photos\r\n        const num = this.state.photo\r\n\r\n\r\n        if(this.state.images) {\r\n            return <div>loading images...</div>\r\n        }\r\n\r\n        return (\r\n          <div className=\"flex-center\">\r\n            {this.state.showPhoto && (\r\n            <div className=\"flex-center image__large-box\">\r\n              <img className=\"image__large-image\" src={this.state.photoClicked.image} alt=\"\"/>\r\n              <h2>{this.state.photoClicked.beername}</h2>\r\n              <h5>delete this image?</h5>\r\n              <h5 onClick={this.handleShowPhoto}>back</h5>\r\n            </div>\r\n            )}\r\n            {this.state.photos.length === 0 ? (<div><h2>no photos to display</h2></div>) :\r\n            (<div className=\"image__gallery-box \">\r\n              <p onClick={this.handlePreviousPhoto}>P</p>\r\n              <div className=\"image__gallery-grid\">\r\n                <div className=\"flex-center image__image-box\" onClick={() => {this.handleShowPhoto(array[num])}}>\r\n                    <img className=\"image__gallery-photo\" src={array[num].image} alt={num}/>\r\n                </div>\r\n                <div className=\"flex-center image__image-box\" onClick={() => {this.handleShowPhoto(array[num+1])}}>\r\n                   {this.state.photos.length > 1 ? <img className=\"image__gallery-photo\" src={array[num+1].image} alt={num+1}/> : \"\"}\r\n                </div>\r\n                <div className=\"flex-center image__image-box\" onClick={() => {this.handleShowPhoto(array[num+2])}}>\r\n                {this.state.photos.length > 2 ? <img className=\"image__gallery-photo\" src={array[num+2].image} alt={num+2}/> : \"\"}\r\n                </div>\r\n              </div>\r\n              <p onClick={this.handleNextPhoto}>N</p>\r\n            </div>)}\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ImageScroller\r\n","import React from \"react\";\r\n// import \"../styles/Buttons.css\";\r\n\r\nconst Button = ({ children, disabled, handleClick, ...rest }) => {\r\n  const styles = {\r\n    primary: \"primary\",\r\n    secondary: \"secondary\",\r\n  };\r\n\r\n  let selectedClass;\r\n  for (const key in rest) {\r\n    if (styles[key]) {\r\n      selectedClass = styles[key];\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button\r\n      disabled={disabled}\r\n      id=\"Btn\"\r\n      className={`Btn btn-${selectedClass || \"\"}`}\r\n      onClick={handleClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;","import React from \"react\";\r\nimport \"../Styles/FeedBack.css\";\r\n\r\nconst FeedBack = ({ status, message }) => {\r\n  return (\r\n    <div className={`FeedBack ${status}`}>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeedBack;","import React, { Component } from \"react\";\r\nimport apiHandler from \"../API/apiHandler\";\r\nimport '../Styles/SearchBar.css'\r\n\r\nexport class SearchBar extends Component {\r\n  state = {\r\n    search: \"\",\r\n    results: [],\r\n    isLoading: false,\r\n  };\r\n\r\n  handleSearch = (event) => {\r\n    this.setState({\r\n      search: event.target.value,\r\n      isLoading: true,\r\n    });\r\n\r\n    clearTimeout(this.timeoutId);\r\n\r\n    this.timeoutId = setTimeout(() => {\r\n      this.performSearch();\r\n    }, 1000);\r\n  };\r\n\r\n  performSearch = () => {\r\n    if (this.state.search === \"\") {\r\n      this.setState({\r\n        results: [],\r\n        isLoading: false,\r\n      });\r\n      return;\r\n    }\r\n\r\n    apiHandler.searchBreweries(this.state.search).then((response) => {\r\n      this.setState({\r\n        results: response,\r\n        isLoading: false,\r\n      });\r\n    });\r\n  };\r\n\r\n  handleBreweryClicked(brewery) {\r\n    this.setState({\r\n      search: brewery.name,\r\n      results: [],\r\n    });\r\n    console.log(this.props);\r\n    this.props.onSelect(brewery); \r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"searchBrew__box\">\r\n        <h2>SearchBrew</h2>\r\n        <input\r\n          className=\"searchBrew__bar\"\r\n          type=\"text\"\r\n          value={this.state.search}\r\n          onChange={this.handleSearch}\r\n          name=\"searchBrew\"\r\n          id=\"searchBrew\"\r\n        />\r\n        <ul className=\"searchBrew__results\">\r\n          {this.state.results.map((brewery) => (\r\n            <li\r\n              key={brewery._id}\r\n              className=\"searchBrew__list-item\"\r\n              onClick={() => this.handleBreweryClicked(brewery)}\r\n            >\r\n              <h4>{brewery.name}</h4>\r\n            </li>\r\n          ))}\r\n          {this.state.isLoading && (\r\n            <li className=\"searchBrew__list-item\">Brewery hunting...</li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","  \r\nexport function buildFormData(formData, data, parentKey) {\r\n    if (\r\n      data &&\r\n      typeof data === \"object\" &&\r\n      !(data instanceof Date) &&\r\n      !(data instanceof File)\r\n    ) {\r\n      Object.keys(data).forEach((key) => {\r\n        buildFormData(\r\n          formData,\r\n          data[key],\r\n          parentKey ? `${parentKey}[${key}]` : key\r\n        );\r\n      });\r\n    } else {\r\n      const value = data == null ? \"\" : data;\r\n      formData.append(parentKey, value);\r\n    }\r\n  }","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import Button from \"../Button\";\r\nimport Button from '../Button'\r\nimport UploadWidget from \"../UploadWidget\";\r\nimport FeedBack from \"../FeedBack\";\r\nimport apiHandler from \"../../API/apiHandler\";\r\nimport UserContext from \"../Auth/UserContext\";\r\nimport BrewSearchBar from \"../BrewSearchBar\";\r\nimport ReviewRating from \"../Reviews/ReviewRating\";\r\nimport { buildFormData } from \"../../utils\";\r\n// import \"../../styles/form.css\";\r\n\r\nclass UpdateBeer extends Component {\r\n  static contextType = UserContext \r\n\r\n  state = {\r\n    httpResponse: null,\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n  formRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      beer: this.props.beer,\r\n      isLoading: false\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const value =\r\n      event.target.type === \"file\" ? event.target.files[0] : event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    \r\n      \r\n    const fd = new FormData();\r\n\r\n    const { httpRespons, ... data } = this.state;\r\n    \r\n    buildFormData(fd, data)\r\n\r\n    apiHandler\r\n      .editBeer(this.props.beer._id, fd)\r\n      .then((data) => {\r\n        \r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"success\",\r\n            message: \"beer successfully updated.\",\r\n          },\r\n        });\r\n\r\n        \r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n\r\n        \r\n        this.props.handleChange(data)\r\n        this.props.handleClose()\r\n\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"failure\",\r\n            message:\r\n              \"Something bad happened while updating your beer, try again later\",\r\n          },\r\n        });\r\n\r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  // select image\r\n\r\n  handleFileSelect = (tempURL, file) => {\r\n    this.setState({ image: file });\r\n  };\r\n\r\n // select brewery\r\n  \r\n  handleBrewerySelect = (brewery) => {\r\n    this.setState({\r\n      breweryname: brewery.name, \r\n      breweryid: brewery._id \r\n    });\r\n  };\r\n\r\n// select stars \r\n\r\nhandleAddStars = (rating) => {\r\n  this.setState({\r\n      rating: rating\r\n    });\r\n};\r\n\r\nhandleDeleteBeer = (beerId) => {\r\n  apiHandler\r\n  .deleteBeer(beerId)\r\n  .then(response => {\r\n    console.log(\"success\", response);\r\n    this.props.history.push(\"/beer\")\r\n  })\r\n  .catch(err => {console.log(err)})\r\n  \r\n}\r\n\r\n  render() {\r\n    console.log(this.props);\r\n\r\n    const { httpResponse } = this.state;\r\n\r\n    const {\r\n      name,\r\n      description,\r\n      abv,\r\n      breweryname,\r\n      releasedate,\r\n      breweryid,\r\n      rating,\r\n      date,\r\n      _id,\r\n\r\n    } = this.props.beer;\r\n\r\n   \r\n\r\n    return (\r\n      <section className=\"form-section\">\r\n        <form autoComplete=\"off\" className=\"form\" onSubmit={this.handleSubmit}>\r\n          <h1 className=\"header\">Edit this can <span onClick={this.props.handleClose}>X</span></h1>\r\n\r\n          <div className=\"round-image widget-image\">\r\n            <img\r\n              src={this.state.tmpUrl || this.props.beer.image}\r\n              alt={name}\r\n            />\r\n          </div>\r\n          <div className=\"form-group-uploadwidget\">\r\n            <UploadWidget\r\n              // ref={this.imageRef}\r\n              onFileSelect={this.handleFileSelect}\r\n              name=\"image\"\r\n            >\r\n              Change image\r\n            </UploadWidget>\r\n          </div>\r\n\r\n          {httpResponse && (\r\n            <FeedBack\r\n              message={httpResponse.message}\r\n              status={httpResponse.status}\r\n            />\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              className=\"input\"\r\n              id=\"name\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              onChange={this.handleChange}\r\n              defaultValue={name}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n         \r\n            <textarea\r\n              className=\"input\"\r\n              id=\"description\"\r\n              type=\"text\"\r\n              name=\"description\"\r\n              defaultValue={description}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <ReviewRating setRate={this.handleAddStars} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <h2>Current brewery: {breweryname}</h2>\r\n            <BrewSearchBar onSelect={this.handleBrewerySelect} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n                  className=\"form__input\"\r\n                  onChange={this.handleChange}\r\n                  defaultValue={abv}\r\n                  type=\"number\"\r\n                  name=\"abv\"\r\n                  id=\"abv\"\r\n                />\r\n           </div>\r\n          <div className=\"form-group\">\r\n           \r\n            <input\r\n              className=\"input\"\r\n              id=\"releasedate\"\r\n              type=\"number\"\r\n              name=\"releasedate\"\r\n              onChange={this.handleChange}\r\n              defaultValue={releasedate}\r\n            />\r\n         \r\n          </div>\r\n          <Button primary>\r\n            Save\r\n          </Button>\r\n        </form>\r\n\r\n        <h3>Or, if you're sure... <b onClick={() => this.handleDeleteBeer(_id)}>delete</b> this beer</h3>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UpdateBeer);","import React, { Component } from \"react\";\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport apiHandler from '../API/apiHandler'\r\nimport withUser from '../Components/Auth/withUser'\r\nimport Rating from '../Components/Rating'\r\nimport ReviewForm from '../Components/Reviews/ReviewForm';\r\nimport ImageScroller from '../Components/ImageScroller';\r\nimport UpdateBeer from '../Components/Beers/UpdateBeer'\r\nimport '../Styles/BeerDetails.css'\r\n\r\nexport class BeerDetails extends Component {\r\n  \r\n  beerId = this.props.match.params.id;\r\n\r\n    state = {\r\n      user: null,\r\n      beer: null,\r\n      userBeers: null,\r\n      alreadyDrunk: false,\r\n      reviewForm: false,\r\n      imageForm: false,\r\n      beerImages: null,\r\n      beerReviews: null,\r\n      showSettings: false,\r\n    };\r\n\r\n\r\n  componentDidMount() {\r\n    const {context} = this.props\r\n    const {user} = context\r\n\r\n\r\n    this.setState({\r\n      user: user,\r\n      userBeers: user.beers\r\n    })\r\n  \r\n    apiHandler\r\n      .getOneBeer(this.beerId)\r\n      .then((response) => {\r\n        if (response.name === undefined) this.props.history.push(\"/*\");\r\n        this.setState({ beer: response });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n      if (user.beers.includes(this.beerId)) {\r\n        this.setState({alreadyDrunk: true})\r\n      } \r\n\r\n    apiHandler\r\n    .getBeerImages(this.beerId)\r\n    .then(response => {\r\n      if(response.length>0) {\r\n        this.setState({beerImages: response})\r\n      } else {\r\n        this.setState({beerImages: []})\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n\r\n    apiHandler\r\n    .getBeerReviews(this.beerId)\r\n    .then(response => {\r\n      if(response.length>0) {\r\n        this.setState({beerReviews: response})\r\n      }  else {\r\n        this.setState({beerReviews: []})\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n\r\n      \r\n  }\r\n\r\n  handleAddBeer = () => {\r\n    apiHandler\r\n      .addUserBeer(this.beerId)\r\n      .then(response => {\r\n        console.log(\"success\");\r\n        this.setState({alreadyDrunk: !this.state.alreadyDrunk})\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleRemoveBeer = () => {\r\n    apiHandler\r\n      .removeUserBeer(this.beerId)\r\n      .then(response => {\r\n        console.log(\"success\");\r\n        this.setState({\r\n          alreadyDrunk: !this.state.alreadyDrunk,\r\n          reviewForm: false,\r\n          imageForm: false,\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleShowReview = () => {\r\n    console.log(\"click\");\r\n    this.setState({reviewForm: !this.state.reviewForm})\r\n  }\r\n\r\n  handleShowImage = () => {\r\n    this.setState({imageForm: !this.state.imageForm})\r\n  }\r\n\r\n  \r\n  handleShowSettings = () => {\r\n    this.setState({\r\n      showSettings: !this.state.showSettings\r\n    })\r\n  }\r\n\r\n  handleBeerChange = (newBeer) => {\r\n    this.setState({\r\n      beer: newBeer\r\n    })\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    \r\n    if (this.state.user === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    if (this.state.beer === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    if (this.state.beerImages === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    if (this.state.beerReviews === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n\r\n\r\n    const beer = this.state.beer\r\n\r\n    return (\r\n      <div className=\"details__main\">\r\n        <div className=\"details__link-bar\">\r\n          {this.state.alreadyDrunk ? \r\n\r\n            (\r\n              <div className=\"flex-center\">\r\n                <h3>Canned!</h3>\r\n\r\n                <div className=\"details__canned-options\">\r\n                  <h3 onClick={this.handleShowReview}>Review</h3>\r\n                  <h3 onClick={this.handleRemoveBeer}>un-Can?</h3>\r\n                 \r\n                </div>\r\n              </div>\r\n            ) : \r\n            (<h3 onClick={this.handleAddBeer}>Tried this one before? Can it!</h3> )}\r\n            {this.state.reviewForm && <ReviewForm  beerName={beer.name} beerId={this.beerId} onComplete={this.handleShowReview}/>}\r\n\r\n        </div>\r\n\r\n        <div className=\"details__box\">\r\n          <div className=\"details__top-box\">\r\n            <div className=\"details__image-box\">\r\n              <img\r\n                className=\"details__image\"\r\n                src={beer.image}\r\n                alt=\"beer\"\r\n                />\r\n            </div>\r\n            <div className=\"details__info-box\">\r\n              <h1>{beer.name}</h1>\r\n              <h4 onClick={this.handleShowSettings}>settings</h4>\r\n              <h4>{beer.breweryname}</h4>\r\n              <div className=\"details__rating\" >\r\n                <Rating rating={beer.rating}/>\r\n              </div>\r\n              <p>{beer.abv}% ABV</p>\r\n              \r\n            </div>\r\n\r\n                {/* settings */}\r\n     \r\n              {this.state.showSettings && (\r\n                <div className=\"overflow settings-box\">              \r\n                  <UpdateBeer beer={this.state.beer} handleChange={this.handleBeerChange} handleClose={this.handleShowSettings}/>\r\n                </div>\r\n              )}\r\n\r\n          </div>\r\n          <div className=\"details__image-scroll\">\r\n            {this.state.beerImages.length>0 ? \r\n            (<ImageScroller imagesList={this.state.beerImages}/> )\r\n            :\r\n            (<h1>The beer has no Can snaps yet!</h1>)\r\n            }\r\n          </div>\r\n        \r\n\r\n            <div className=\"details__description\">\r\n              <p>{beer.description}</p>\r\n            </div>\r\n            <Link\r\n                exact\r\n                to={`/beers/edit/${this.beerID}`}\r\n                className=\"home__link\"\r\n              >\r\n                <h3>Edit this beer</h3> \r\n            </Link>\r\n\r\n            <h3>Comments</h3>\r\n            <ul>\r\n            {this.state.beerReviews.map(review => (\r\n              <li>\r\n                <Rating rating={review.rating}/>\r\n                <p>{review.comment}</p>\r\n              </li>\r\n            ))}\r\n            </ul>\r\n\r\n          \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(BeerDetails);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Rating from '../Components/Rating'\r\nimport apiHandler from \"../API/apiHandler\";\r\n// import SearchBar from './SearchBar';\r\n\r\nexport class Beers extends Component {\r\n  state = {\r\n    beers: null,\r\n    sendBeer: [],\r\n    popUp: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .getUserBeers()\r\n      .then((response) => {\r\n        // console.log(response);\r\n        this.setState({ beers: response });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.state.beers === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"beer__main-list\">\r\n        <ul className=\"beer__list\">\r\n          {this.state.beers.map((beer) => (\r\n            <li className=\"beer__list-item\" key={beer._id}>\r\n              <div className=\"beer__box\">\r\n                <div className=\"beer__image-box\">\r\n                  <img\r\n                    className=\"beer__image\"\r\n                    src={beer.image}\r\n                    alt={beer.name}\r\n                  />\r\n                </div>\r\n                <div className=\"beer__info\">\r\n                <Link exact to={`/beer-detail/${beer._id}`}>\r\n                  <h3>{beer.name}</h3>\r\n                </Link>\r\n                <h4>{beer.breweryname}</h4>\r\n                <Rating rating={beer.rating}/>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Beers;\r\n","import React from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport '../Styles/Home.css'\r\n\r\n\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div className=\"home__main\">\r\n          <h1 className=\"home__title\">Canned!</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import ReactMapboxGl, { Marker } from \"react-mapbox-gl\";\r\nimport React from \"react\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport \"../Styles/MapPage.css\";\r\n\r\n\r\n// @ts-ignore\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\n// import marker from '../assets/avatar.png'\r\nconst markerUrl =\r\n  \"https://res.cloudinary.com/dahzswwzk/image/upload/v1617034208/Basic_UI_Icon_Pack_-_Flat_map_pointer-512_d9c33w.webp\";\r\n\r\nconst Map = ReactMapboxGl({\r\n  accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\r\n});\r\n\r\nexport class MapComponent extends React.PureComponent {\r\n  state = {\r\n    breweries: null,\r\n    longitude: null,\r\n    latitude: null,\r\n    breweryClicked: null,\r\n    showDetails: false,\r\n    showName: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      breweries: this.props.breweryList,\r\n      longitude: this.props.longitude,\r\n      latitude: this.props.latitude,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.setState({\r\n      longitude: this.props.longitude,\r\n      latitude: this.props.latitude,\r\n    });\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n  render() {\r\n    if (this.state.breweries === null) {\r\n      return <div> loading map... </div>;\r\n    }\r\n    if (this.state.longitude === null) {\r\n      return <div> loading map... </div>;\r\n    }\r\n    if (this.state.latitude === null) {\r\n      return <div> loading map... </div>;\r\n    }\r\n\r\n\r\n    return (\r\n      <div className=\"map__main\">\r\n          <Map\r\n            // eslint-disable-next-line\r\n            style={\"mapbox://styles/mapbox/streets-v10\"}\r\n            zoom={[11]}\r\n            containerStyle={{\r\n              top: \"8.2vh\",\r\n              left: 0,\r\n              bottom: 0,\r\n              right: 0,\r\n              position: \"absolute\",\r\n            }}\r\n            center={[this.state.longitude, this.state.latitude]}\r\n          >\r\n          \r\n          {this.state.breweries.map((brewery) => (\r\n              <Marker\r\n                coordinates={[brewery.longitude, brewery.latitude]}\r\n                anchor=\"bottom\"\r\n                key={brewery._id}\r\n                onClick={() => this.props.markerClick(brewery)}\r\n              >\r\n                <img className=\"map-marker\" src={markerUrl} alt=\"marker\" />\r\n              </Marker>\r\n            ))}\r\n          </Map>\r\n\r\n     \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MapComponent;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../Styles/AddressSearch.css\";\r\n\r\n/*\r\n *  Thanks to @mc100s for this component\r\n *  https://github.com/mc100s\r\n *\r\n */\r\n\r\nclass AutocompletePlace extends Component {\r\n\r\n    state = {\r\n      search: \"\",\r\n      results: [],\r\n      isLoading: false,\r\n    };\r\n\r\n  \r\n\r\n  handleSearchChange = (e) => {\r\n\r\n    this.setState({\r\n      search: e.target.value,\r\n      isLoading: true,\r\n    });\r\n\r\n    // Stop the previous setTimeout if there is one in progress\r\n    clearTimeout(this.timeoutId);\r\n\r\n    // Launch a new request in 1000ms (1s) => Avoids excessive requests to the end point.\r\n    this.timeoutId = setTimeout(() => {\r\n      this.performSearch();\r\n    }, 1000);\r\n  }\r\n\r\n  performSearch = () => {\r\n    if (this.state.search === \"\") {\r\n      this.setState({\r\n        results: [],\r\n        isLoading: false,\r\n      });\r\n      return;\r\n    }\r\n    // https://docs.mapbox.com/api/search/geocoding\r\n    axios\r\n      .get(\r\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.search}.json?access_token=pk.eyJ1Ijoicm10d2lsbGlhbXMiLCJhIjoiY2ttbThvcXNwMGRyazJ3bGVwdG9sbnRzcSJ9.0R-H-K5vBBYCOD9m6cCxXw`\r\n      )\r\n      .then((response) => {\r\n        this.setState({\r\n          results: response.data.features,\r\n          isLoading: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  handleItemClicked = (place) => {\r\n    this.setState({\r\n      search: place.place_name,\r\n      results: [],\r\n    });\r\n\r\n    this.props.onSelect(place);\r\n  }\r\n\r\n  render() {\r\n    const { results, isLoading } = this.state;\r\n    return (\r\n      <div className=\"AutocompletePlace\">\r\n        <input\r\n          className=\"input\"\r\n          type=\"text\"\r\n          value={this.props.defaultValue || this.state.search}\r\n          onChange={this.handleSearchChange}\r\n          placeholder=\"Type an address\"\r\n        />\r\n        <ul className=\"AutocompletePlace-results\">\r\n          {results.map((place) => (\r\n            <li\r\n              key={place.id}\r\n              className=\"AutocompletePlace-items\"\r\n              onClick={() => this.handleItemClicked(place)}\r\n            >\r\n              {place.place_name}\r\n            </li>\r\n          ))}\r\n          {isLoading && <li className=\"AutocompletePlace-items\">Loading...</li>}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AutocompletePlace;","import React, { Component } from \"react\";\r\nimport AddressSearch from \"../AddressSearch\";\r\nimport ReviewRating from \"../../Components/Reviews/ReviewRating\";\r\nimport UploadWidget from \"../../Components/UploadWidget\";\r\nimport UserContext from \"../../Components/Auth/UserContext\";\r\nimport \"../../Styles/NewBeer.css\";\r\nimport apiHandler from \"../../API/apiHandler\"\r\n// import apiHandler from '../API/apiHandler'\r\n\r\nexport class CreateBrewery extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    selectedBeer: null,\r\n    rating: null,\r\n    name: null,\r\n    description: null,\r\n    website: null,\r\n    establisheddate: 2021,\r\n    address: null,\r\n    latitude: null,\r\n    longitude: null,\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const name = event.target.name;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleOnSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const fd = new FormData();\r\n\r\n    for (const key in this.state) {\r\n      if (key === \"image\") continue;\r\n      fd.append(key, this.state[key]);\r\n    }\r\n\r\n    for (var pair of fd.entries()) {\r\n      console.log(pair[0] + \", \" + pair[1]);\r\n    }\r\n\r\n    if (this.imageRef.current.files[0]) {\r\n      fd.append(\"image\", this.imageRef.current.files[0]);\r\n    }\r\n\r\n\r\n    apiHandler\r\n      .CreateBrewery(fd)\r\n      .then((data) => {\r\n        //log success\r\n\r\n        console.log(\"success\", data);\r\n\r\n        // reset state\r\n\r\n        this.setState({\r\n          rating: null,\r\n          name: null,\r\n          description: null,\r\n          website: null,\r\n          establisheddate: 2021,\r\n          address: null,\r\n          latitude: null,\r\n          longitude: null,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  handleFileSelect = (temporaryURL) => {\r\n    this.setState({ tmpUrl: temporaryURL });\r\n  };\r\n\r\n  handleAddressSelect = (location) => {\r\n    console.log(location);\r\n    this.setState({\r\n        address: location.place_name,\r\n        longitude: location.geometry.coordinates[0],\r\n        latitude: location.geometry.coordinates[1],\r\n    });\r\n  };\r\n\r\n\r\n  handleAddStars = (rating) => {\r\n    this.setState({ rating: rating });\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"newbeer__main\">\r\n          <form\r\n            className=\"form newbeer__activeform\"\r\n            onSubmit={this.handleOnSubmit}\r\n          >\r\n            <label className=\"form__label\" htmlFor=\"name\">\r\n              Name\r\n            </label>\r\n            <input\r\n              className=\"form__input\"\r\n              onChange={this.handleChange}\r\n              value={this.state.name}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n            />\r\n\r\n            <label className=\"form__label\" htmlFor=\"description\">\r\n              Description\r\n            </label>\r\n            <textarea\r\n              className=\"form__input\"\r\n              onChange={this.handleChange}\r\n              value={this.state.description}\r\n              type=\"text\"\r\n              name=\"description\"\r\n              id=\"description\"\r\n            ></textarea>\r\n             \r\n            <label className=\"form__label\" htmlFor=\"name\">\r\n              Website\r\n            </label>\r\n            <input\r\n              className=\"form__input\"\r\n              onChange={this.handleChange}\r\n              value={this.state.website}\r\n              type=\"text\"\r\n              name=\"website\"\r\n              id=\"website\"\r\n            />\r\n\r\n            <div className=\"newbeer__small-details\">\r\n\r\n              <label className=\"year__label\" htmlFor=\"year\">\r\n                Brewery established in\r\n              </label>\r\n              <input\r\n                className=\"form__input\"\r\n                onChange={this.handleChange}\r\n                value={this.state.establisheddate}\r\n                type=\"number\"\r\n                name=\"establisheddate\"\r\n                id=\"establisheddate\"\r\n              />\r\n\r\n              <ReviewRating setRate={this.handleAddStars} />\r\n            </div>\r\n\r\n            <AddressSearch onSelect={this.handleAddressSelect} />\r\n\r\n            <div className=\"newbeer__image-output\">\r\n              <UploadWidget\r\n                ref={this.imageRef}\r\n                onFileSelect={this.handleFileSelect}\r\n                name=\"image\"\r\n              >\r\n                Upload image\r\n              </UploadWidget>\r\n\r\n              <div className=\"newbeer__image\">\r\n                {!this.state.tmpUrl ? (\r\n                  \"\"\r\n                ) : (\r\n                  <img src={this.state.tmpUrl} alt=\"beer\" />\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <button className=\"form__button\">ADD NEW</button>\r\n          </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateBrewery;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import Button from \"../Button\";\r\nimport Button from '../Button'\r\nimport UploadWidget from \"../UploadWidget\";\r\nimport FeedBack from \"../FeedBack\";\r\nimport apiHandler from \"../../API/apiHandler\";\r\nimport UserContext from \"../Auth/UserContext\";\r\nimport AddressSearch from \"../AddressSearch\";\r\nimport ReviewRating from \"../Reviews/ReviewRating\";\r\nimport { buildFormData } from \"../../utils\";\r\n// import \"../../styles/form.css\";\r\n\r\nclass UpdateBrewery extends Component {\r\n  static contextType = UserContext \r\n\r\n  state = {\r\n    httpResponse: null,\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n  formRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      brewery: this.props.brewery,\r\n      isLoading: false\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const value =\r\n      event.target.type === \"file\" ? event.target.files[0] : event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    \r\n    const fd = new FormData();\r\n\r\n    const { httpRespons, ... data } = this.state;\r\n    \r\n    buildFormData(fd, data)\r\n\r\n    apiHandler\r\n      .editBrewery(this.props.brewery._id, fd)\r\n      .then((data) => {\r\n        \r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"success\",\r\n            message: \"beer successfully updated.\",\r\n          },\r\n        });\r\n\r\n        \r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n\r\n        \r\n        this.props.handleChange(data)\r\n        this.props.handleClose()\r\n\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"failure\",\r\n            message:\r\n              \"Something bad happened while updating your beer, try again later\",\r\n          },\r\n        });\r\n\r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  // select image\r\n\r\n  handleFileSelect = (tempURL, file) => {\r\n    this.setState({ image: file });\r\n  };\r\n\r\n // select brewery\r\n\r\n handleAddressSelect = (location) => {\r\n\r\n  this.setState({\r\n      address: location.place_name,\r\n      longitude: location.geometry.coordinates[0],\r\n      latitude: location.geometry.coordinates[1],\r\n  });\r\n};\r\n// select stars \r\n\r\nhandleAddStars = (rating) => {\r\n  this.setState({\r\n      rating: rating\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n\r\n\r\n    const { httpResponse } = this.state;\r\n\r\n    const {\r\n      name,\r\n      description,\r\n      website,\r\n      breweryname,\r\n      establisheddate,\r\n      address,\r\n      latitude,\r\n      longitude,\r\n      rating,\r\n      _id,\r\n\r\n    } = this.props.brewery;\r\n\r\n   \r\n\r\n    return (\r\n      <section className=\"form-section\">\r\n        <form autoComplete=\"off\" className=\"form\" onSubmit={this.handleSubmit}>\r\n          <h1 className=\"header\">Edit this brewery <span onClick={this.props.handleClose}>X</span></h1>\r\n\r\n          <div className=\"round-image widget-image\">\r\n            <img\r\n              src={this.state.tmpUrl || this.props.brewery.image}\r\n              alt={name}\r\n            />\r\n          </div>\r\n          <div className=\"form-group-uploadwidget\">\r\n            <UploadWidget\r\n              // ref={this.imageRef}\r\n              onFileSelect={this.handleFileSelect}\r\n              name=\"image\"\r\n            >\r\n              Change image\r\n            </UploadWidget>\r\n          </div>\r\n\r\n          {httpResponse && (\r\n            <FeedBack\r\n              message={httpResponse.message}\r\n              status={httpResponse.status}\r\n            />\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              className=\"input\"\r\n              id=\"name\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              onChange={this.handleChange}\r\n              defaultValue={name}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n         \r\n            <textarea\r\n              className=\"input\"\r\n              id=\"description\"\r\n              type=\"text\"\r\n              name=\"description\"\r\n              defaultValue={description}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <ReviewRating setRate={this.handleAddStars} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <h2>Current brewery address: {address}</h2>\r\n            <AddressSearch onSelect={this.handleAddressSelect} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n                  className=\"form__input\"\r\n                  onChange={this.handleChange}\r\n                  defaultValue={website}\r\n                  type=\"text\"\r\n                  name=\"website\"\r\n                  id=\"website\"\r\n                />\r\n           </div>\r\n          <div className=\"form-group\">\r\n           \r\n            <input\r\n              className=\"input\"\r\n              id=\"establisheddate\"\r\n              type=\"number\"\r\n              name=\"establisheddate\"\r\n              onChange={this.handleChange}\r\n              defaultValue={establisheddate}\r\n            />\r\n         \r\n          </div>\r\n          <Button primary>\r\n            Save\r\n          </Button>\r\n        </form>\r\n\r\n       \r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UpdateBrewery);","import React, { Component } from \"react\";\r\nimport apiHandler from '../../API/apiHandler'\r\n// import withUser from '../Components/Auth/withUser'\r\nimport UpdateBrewery from './UpdateBrewery'\r\nimport Rating from '../../Components/Rating'\r\nimport '../../Styles/BeerDetails.css'\r\nimport BeerList from \"../Beers/BeerList\";\r\n\r\nexport class BreweryDetails extends Component {\r\n\r\n    state = {\r\n      brewery: null,\r\n      breweryBeers: null,\r\n      beerList: false,\r\n      showSettings: false,\r\n    };\r\n\r\n\r\n  componentDidMount() {\r\n    this.setState({brewery: this.props.brewery})\r\n    const breweryId = this.props.brewery._id\r\n \r\n    // get brewery beers\r\n\r\n    apiHandler\r\n    .getBreweryBeers(breweryId)\r\n    .then(response => {\r\n      console.log(response);\r\n      this.setState({breweryBeers: response})\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  handleAddBeer = () => {\r\n    apiHandler\r\n      .addUserBeer(this.beerId)\r\n      .then(response => {\r\n        console.log(\"success\");\r\n        this.setState({alreadyDrunk: !this.state.alreadyDrunk})\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleRemoveBeer = () => {\r\n    apiHandler\r\n      .removeUserBeer(this.beerId)\r\n      .then(response => {\r\n        console.log(\"success\");\r\n        this.setState({\r\n          alreadyDrunk: !this.state.alreadyDrunk,\r\n          reviewForm: false,\r\n          imageForm: false,\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleBeerList = () => {\r\n    this.setState({beerList: true})\r\n  }\r\n\r\n  handleDescription = () => {\r\n    this.setState({beerList: false})\r\n  }\r\n\r\n  handleShowSettings = () => {\r\n    this.setState({\r\n      showSettings: !this.state.showSettings\r\n    })\r\n  }\r\n\r\n  handleBreweryChange = (newBrewery) => {\r\n    this.setState({\r\n      brewery: newBrewery\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    \r\n    if (this.state.brewery === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    if (this.state.breweryBeers === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    const brewery = this.state.brewery\r\n\r\n    return (\r\n      <div className=\"details__main\">\r\n\r\n        <div className=\"details__box\">\r\n        <div onClick={this.props.closePopUp}><h2>back to map</h2></div>\r\n          <div className=\"details__top-box\">\r\n            <div className=\"details__image-box\">\r\n              <img\r\n                className=\"details__image\"\r\n                src={brewery.image}\r\n                alt=\"brewery\"\r\n                />\r\n            </div>\r\n            <div className=\"details__info-box\">\r\n              <h1>{brewery.name}</h1>\r\n              <h4 onClick={this.handleShowSettings}>settings</h4>\r\n              <div className=\"details__rating\" >\r\n                <Rating rating={brewery.rating}/>\r\n              </div>\r\n              <h4>Established in {brewery.establisheddate}</h4>\r\n              <h4>{brewery.address}</h4>\r\n              <p>Check them out {brewery.website}</p>\r\n              \r\n            </div>\r\n          </div>  \r\n\r\n          {this.state.showSettings && (\r\n                <div className=\"overflow settings-box\">              \r\n                  <UpdateBrewery brewery={this.state.brewery} handleChange={this.handlebreweryChange} handleClose={this.handleShowSettings}/>\r\n                </div>\r\n              )}   \r\n          <div className=\"beer__list-type\">\r\n            <div onClick={this.handleDescription} className=\"beer__list-switch\"><h2>Details</h2></div>\r\n            <div onClick={this.handleBeerList} className=\"beer__list-switch\"><h2>Beers</h2></div>\r\n        </div>\r\n            {this.state.beerList ? (\r\n              <div>\r\n                <BeerList beerList={this.state.breweryBeers}/>\r\n              </div>\r\n            )\r\n            : (<div className=\"details__description\">\r\n              <p>{brewery.description}</p>\r\n            </div> )}   \r\n\r\n                \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BreweryDetails;\r\n","import React, { Component } from \"react\";\r\nimport MapComponent from \"../Components/MapComponent\";\r\nimport apiHandler from \"../API/apiHandler\";\r\nimport withUser from '../Components/Auth/withUser'\r\nimport CreateBrewery from '../Components/Breweries/CreateBrewery'\r\nimport axios from 'axios'\r\nimport BrewSearchBar from \"../Components/BrewSearchBar\";\r\nimport BreweryDetails from \"../Components/Breweries/BreweryDetails\";\r\n// import BrewSearchBar from \"../Components/BrewSearchBar\";\r\nimport \"../Styles/MapPage.css\";\r\n\r\n\r\n\r\nexport class MapPage extends Component {\r\n\r\n  userCity = this.props.context.user.city\r\n\r\n  state = {\r\n    breweries: null,\r\n    selectedBrewery: null,\r\n    userCity: this.userCity,\r\n    longitude: null,\r\n    latitude: null,\r\n    showForm: false,\r\n    showDetails: false,\r\n    showName: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n\r\n\r\n    apiHandler\r\n      .getBreweries()\r\n      .then((deRes) => {\r\n        // console.log(deRes);\r\n        this.setState({ breweries: deRes });\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n         // https://docs.mapbox.com/api/search/geocoding\r\n    \r\n    axios\r\n    .get(\r\n      `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.userCity}.json?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`\r\n    )\r\n    .then((response) => {\r\n      const result = response.data.features[0];\r\n      console.log(result);\r\n      this.setState({\r\n        longitude: result.geometry.coordinates[0],\r\n        latitude: result.geometry.coordinates[1],\r\n      })\r\n    });\r\n  }\r\n\r\n  handleShowDetails = () => {\r\n    this.setState({\r\n      showDetails: !this.state.showDetails,\r\n      showName: false,\r\n    });\r\n  };\r\n\r\n\r\n  handleBrewerySelect = (brewery) => {\r\n    this.setState({\r\n      breweryClicked: brewery,\r\n      longitude: brewery.longitude,\r\n      latitude: brewery.latitude,\r\n      showName: true,\r\n    });\r\n  };\r\n\r\n  handleMarkerClick = (brewery) => {\r\n    console.log(brewery);\r\n\r\n    this.setState({\r\n      longitude: brewery.longitude,\r\n      latitude: brewery.latitude,\r\n      breweryClicked: brewery,\r\n      showName: true,\r\n    });\r\n  };\r\n\r\n\r\n  handleShowForm = () => {\r\n    this.setState({showForm: !this.state.showForm})\r\n  }\r\n\r\n  render() {\r\n    if (this.state.breweries === null) {\r\n      return <div>fetching your brewery map</div>;\r\n    }\r\n\r\n    if (this.state.userCity === null) {\r\n      return <div>fetching your brewery map</div>;\r\n    }\r\n\r\n    if (this.state.longitude === null) {\r\n      return <div>fetching your brewery map</div>;\r\n    }\r\n\r\n    if (this.state.latitude === null) {\r\n      return <div>fetching your brewery map</div>;\r\n    }\r\n\r\n    console.log(this.state);\r\n\r\n    return (\r\n      <div>\r\n        <h4 onClick={this.handleShowForm}>Can't find your brewery? add it here</h4>\r\n        {this.state.showForm &&\r\n        <div className=\"map__brewery-form\">\r\n          <CreateBrewery />\r\n        </div>}\r\n        {this.state.showName && (\r\n        <div\r\n          onClick={this.handleShowDetails}\r\n          className=\"flex-center map__showname-box\"\r\n        >\r\n          <h3>{this.state.breweryClicked.name}</h3>\r\n        </div>\r\n        )}\r\n        {this.state.showDetails && (\r\n          <div className=\"map__show-details-box overflow\">\r\n            <BreweryDetails\r\n              closePopUp={this.handleShowDetails}\r\n              brewery={this.state.breweryClicked}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"map__search-box\">\r\n          <BrewSearchBar onSelect={this.handleBrewerySelect} />\r\n        </div>\r\n        <div className=\"map__map-container\">\r\n          <MapComponent markerClick={this.handleMarkerClick} breweryList={this.state.breweries} longitude={this.state.longitude} latitude={this.state.latitude}  />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(MapPage);\r\n","import React, { Component } from \"react\";\r\nimport apiHandler from \"../API/apiHandler\";\r\nimport '../Styles/SearchBar.css'\r\n\r\nexport class SearchBar extends Component {\r\n  state = {\r\n    search: \"\",\r\n    results: [],\r\n    isLoading: false,\r\n  };\r\n\r\n  handleSearch = (event) => {\r\n    this.setState({\r\n      search: event.target.value,\r\n      isLoading: true,\r\n    });\r\n\r\n    clearTimeout(this.timeoutId);\r\n\r\n    this.timeoutId = setTimeout(() => {\r\n      this.performSearch();\r\n    }, 1000);\r\n  };\r\n\r\n  performSearch = () => {\r\n    if (this.state.search === \"\") {\r\n      this.setState({\r\n        results: [],\r\n        isLoading: false,\r\n      });\r\n      return;\r\n    }\r\n\r\n    apiHandler\r\n    .searchBeers(this.state.search)\r\n    .then((response) => {\r\n      this.setState({\r\n        results: response,\r\n        isLoading: false,\r\n      });\r\n    });\r\n  };\r\n\r\n  handleBeerClicked(beer) {\r\n    this.setState({\r\n      search: beer.name,\r\n      results: [],\r\n    });\r\n    console.log(this.props);\r\n    this.props.onSelect(beer); \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"search__box\">\r\n        <h2>Search</h2>\r\n        <input\r\n          className=\"search__bar\"\r\n          type=\"text\"\r\n          value={this.state.search}\r\n          onChange={this.handleSearch}\r\n          name=\"search\"\r\n          id=\"search\"\r\n        />\r\n        <ul className=\"search__results\">\r\n          {this.state.results.map((beer) => (\r\n            <li\r\n              key={beer._id}\r\n              className=\"search__list-item\"\r\n              onClick={() => this.handleBeerClicked(beer)}\r\n            >\r\n              <h4>{beer.name} - {beer.breweryname}</h4>\r\n            </li>\r\n          ))}\r\n          {this.state.isLoading && (\r\n            <li className=\"search__list-item\">Beer hunting...</li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React, { Component } from \"react\";\r\nimport SearchBar from \"../Components/SearchBar\";\r\nimport ReviewRating from \"../Components/Reviews/ReviewRating\";\r\nimport UploadWidget from \"../Components/UploadWidget\";\r\nimport UserContext from \"../Components/Auth/UserContext\";\r\nimport BrewSearchBar from \"../Components/BrewSearchBar\";\r\nimport \"../Styles/NewBeer.css\";\r\nimport apiHandler from \"../API/apiHandler\";\r\n// import apiHandler from '../API/apiHandler'\r\n\r\nexport class NewBeer extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    showSearch: false,\r\n    showForm: false,\r\n    selectedBeer: null,\r\n    rating: null,\r\n    name: \"\",\r\n    description: \"\",\r\n    abv: 0,\r\n    breweryname: \"\",\r\n    breweryid: null,\r\n    releasedate: 2021,\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const name = event.target.name;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleFormClick = () => {\r\n    this.setState({ showForm: !this.state.showForm });\r\n  };\r\n\r\n  handleSearchClick = () => {\r\n    this.setState({ showSearch: !this.state.showSearch });\r\n    if (this.state.showForm) this.setState({ showForm: false });\r\n  };\r\n\r\n  handleOnSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const fd = new FormData();\r\n\r\n    for (const key in this.state) {\r\n      if (key === \"image\") continue;\r\n      fd.append(key, this.state[key]);\r\n    }\r\n\r\n    for (var pair of fd.entries()) {\r\n      console.log(pair[0] + \", \" + pair[1]);\r\n    }\r\n\r\n    if (this.imageRef.current.files[0]) {\r\n      fd.append(\"image\", this.imageRef.current.files[0]);\r\n    }\r\n\r\n    apiHandler\r\n      .CreateBeer(fd)\r\n      .then((data) => {\r\n        //log success\r\n\r\n        console.log(\"success\", data);\r\n\r\n        //add beer to the user list\r\n\r\n        apiHandler\r\n          .addUserBeer(data._id)\r\n          .then((response) => {\r\n            console.log(\"success\", response);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n\r\n        // reset state\r\n\r\n        this.setState({\r\n          rating: null,\r\n          name: \"\",\r\n          description: \"\",\r\n          abv: 0,\r\n          breweryname: \"\",\r\n          breweryid: null,\r\n          releasedate: 2021,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  handleFileSelect = (temporaryURL) => {\r\n    // Get the temporaryURL from the UploadWidget component and\r\n    // set the state so we can have a visual feedback on what the image will look like :)\r\n    this.setState({ tmpUrl: temporaryURL });\r\n  };\r\n\r\n  handleBeerSelect = (beer) => {\r\n    this.setState({\r\n      selectedBeer: beer,\r\n      showSearch: false,\r\n      showForm: false\r\n    });\r\n\r\n    apiHandler\r\n    .addUserBeer(beer._id)\r\n    .then(response => {\r\n        console.log(\"success\", response);\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n    })\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n  handleBrewerySelect = (brewery) => {\r\n    this.setState({\r\n      breweryname: brewery.name,\r\n      breweryid: brewery._id,\r\n    });\r\n  };\r\n\r\n  handleAddStars = (rating) => {\r\n    this.setState({ rating: rating });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state);\r\n\r\n    return (\r\n      <div className=\"newbeer__main\">\r\n        <div className=\"newbeer__link flex-center\">\r\n          <h1 className=\"\" onClick={this.handleSearchClick}>\r\n            {\" \"}\r\n            {!this.state.showSearch ? \"+\" : \"-\"} Add Beer\r\n          </h1>\r\n        </div>\r\n\r\n        <div>\r\n          {this.state.showSearch && (\r\n            <div className=\"newbeer__search flex-center\">\r\n              <SearchBar onSelect={this.handleBeerSelect} />\r\n              <h4 onClick={this.handleFormClick}>\r\n                {!this.state.showForm ? \"+\" : \"-\"} can't find it? Let's add it\r\n                to the Canniverse\r\n              </h4>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {this.state.showForm && (\r\n          <form\r\n            className=\"form newbeer__activeform\"\r\n            onSubmit={this.handleOnSubmit}\r\n          >\r\n            <label className=\"form__label\" htmlFor=\"name\">\r\n              Name\r\n            </label>\r\n            <input\r\n              className=\"form__input\"\r\n              onChange={this.handleChange}\r\n              value={this.state.name}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n            />\r\n\r\n            <label className=\"form__label\" htmlFor=\"description\">\r\n              Description\r\n            </label>\r\n            <textarea\r\n              className=\"form__input\"\r\n              onChange={this.handleChange}\r\n              value={this.state.description}\r\n              type=\"text\"\r\n              name=\"description\"\r\n              id=\"description\"\r\n            ></textarea>\r\n\r\n            <div className=\"newbeer__small-details\">\r\n              <label className=\"abv__label\" htmlFor=\"abv\">\r\n                ABV\r\n              </label>\r\n              <input\r\n                className=\"form__input\"\r\n                onChange={this.handleChange}\r\n                value={this.state.abv}\r\n                type=\"number\"\r\n                name=\"abv\"\r\n                id=\"abv\"\r\n              />\r\n\r\n              <label className=\"year__label\" htmlFor=\"year\">\r\n                Release date\r\n              </label>\r\n              <input\r\n                className=\"form__input\"\r\n                onChange={this.handleChange}\r\n                value={this.state.releasedate}\r\n                type=\"number\"\r\n                name=\"releasedate\"\r\n                id=\"releasedate\"\r\n              />\r\n\r\n              <ReviewRating setRate={this.handleAddStars} />\r\n            </div>\r\n\r\n            <BrewSearchBar onSelect={this.handleBrewerySelect} />\r\n\r\n            <div className=\"newbeer__image-output\">\r\n              <UploadWidget\r\n                ref={this.imageRef}\r\n                onFileSelect={this.handleFileSelect}\r\n                name=\"image\"\r\n              >\r\n                Upload image\r\n              </UploadWidget>\r\n\r\n              <div className=\"newbeer__image\">\r\n                {!this.state.tmpUrl ? (\r\n                  \"\"\r\n                ) : (\r\n                  <img src={this.state.tmpUrl} alt=\"beer\" />\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <button className=\"form__button\">ADD NEW</button>\r\n          </form>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewBeer;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"../../Button\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport UploadWidget from \"../../UploadWidget\";\r\nimport FeedBack from \"../../FeedBack\";\r\nimport apiHandler from \"../../../API/apiHandler\";\r\nimport UserContext from \"../../Auth/UserContext\";\r\n// import \"../../styles/form.css\";\r\n\r\nclass UpdateUser extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    userName: null,\r\n    email: null,\r\n    city: null,\r\n    tmpUrl: \"\",\r\n    httpResponse: null,\r\n    isLoading: true,\r\n\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .getUser()\r\n      .then((data) => {\r\n        this.setState({ \r\n          userName: data.userName, \r\n          email: data.email, \r\n          city: data.city, \r\n          isLoading: false \r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          isLoading: false,\r\n          httpResponse: {\r\n            status: \"failure\",\r\n            message: \"Something bad happened, please try again later\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const key = event.target.name;\r\n    const value = event.target.value;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  isValidInput = (key) => {\r\n    if (this.state[key] === \"\") {\r\n      return false;\r\n    } else return true;\r\n  };\r\n\r\n  checkError = () => {\r\n    for (const key in this.state) {\r\n      if (this.state[key] === \"\") {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const fd = new FormData();\r\n\r\n    for (const key in this.state) {\r\n      // if (key === \"profileImg\") continue;\r\n      fd.append(key, this.state[key]);\r\n    }\r\n\r\n    // if (this.imageRef.current.files[0]) {\r\n    //   fd.append(\"profileImg\", this.imageRef.current.files[0]);\r\n    // }\r\n\r\n    apiHandler\r\n      .editUser(fd)\r\n      .then(() => {\r\n        \r\n        apiHandler.getUser()\r\n        .then( user => {\r\n            this.context.setUser(user)\r\n        })\r\n\r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"success\",\r\n            message: \"Profile successfully updated.\",\r\n          },\r\n        });\r\n\r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"failure\",\r\n            message:\r\n              \"Something bad happened while updating your profile, try again later\",\r\n          },\r\n        });\r\n\r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  handleDeleteUser = () => {\r\n    apiHandler\r\n    .deleteUser()\r\n    .then(response => {\r\n      console.log(\"success\", response);\r\n      this.props.history.push(\"/\")\r\n    })\r\n    .catch(err => {console.log(err)})\r\n    \r\n  }\r\n  // handleFileSelect = (temporaryURL) => {\r\n  //   this.setState({ tmpUrl: temporaryURL });\r\n  // };\r\n\r\n  render() {\r\n    const { httpResponse } = this.state;\r\n    \r\n    if (this.state.isLoading) return <div>Loading...</div>;\r\n    console.log();\r\n\r\n    return (\r\n      <section className=\"form-section\">\r\n        <form autoComplete=\"off\" className=\"form\" onSubmit={this.handleSubmit}>\r\n          <h1 className=\"header\">Edit your profile</h1>\r\n\r\n          {/* <div className=\"round-image user-image\">\r\n            <img\r\n              src={this.state.tmpUrl || this.state.user.profileImg}\r\n              alt={this.state.user.userName}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <UploadWidget\r\n              ref={this.imageRef}\r\n              onFileSelect={this.handleFileSelect}\r\n              name=\"profileImg\"\r\n            >\r\n              Change profile image\r\n            </UploadWidget>\r\n          </div> */}\r\n\r\n          {httpResponse && (\r\n            <FeedBack\r\n              message={httpResponse.message}\r\n              status={httpResponse.status}\r\n            />\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              className=\"input\"\r\n              id=\"userName\"\r\n              type=\"text\"\r\n              name=\"userName\"\r\n              onChange={this.handleChange}\r\n              value={this.state.userName}\r\n            />\r\n            {!this.isValidInput(\"userName\") && (\r\n              <p className=\"input-error\">Invalid input</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n         \r\n            <input\r\n              className=\"input\"\r\n              id=\"email\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={this.state.email}\r\n              disabled\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n           \r\n            <input\r\n              className=\"input\"\r\n              id=\"city\"\r\n              type=\"text\"\r\n              name=\"city\"\r\n              onChange={this.handleChange}\r\n              value={this.state.city}\r\n            />\r\n            {!this.isValidInput(\"city\") && (\r\n              <p className=\"input-error\">Invalid input</p>\r\n            )}\r\n          </div>\r\n          <Button primary >\r\n            Save\r\n          </Button>\r\n        </form>\r\n\r\n        {/* <h3>Or, if you're sure... <b onClick={this.handleDeleteUser}>delete</b> this account</h3> */}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UpdateUser);","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import Button from \"../Button\";\r\nimport Button from \"../Button\";\r\nimport apiHandler from \"../../API/apiHandler\";\r\nimport UserContext from \"../Auth/UserContext\";\r\nimport ReviewRating from \"../Reviews/ReviewRating\";\r\n// import { buildFormData } from \"../../utils\";\r\n// import \"../../styles/form.css\";\r\n\r\nclass UpdateBrewery extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n   const review = this.props.review;\r\n    this.setState({\r\n      userid: review.userid,\r\n      beerid: review.beerid,\r\n      beername: review.beername, \r\n      breweryid: review.breweryid,\r\n      rating: review.rating,\r\n      comment: review.comment,\r\n    });\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const { \r\n        userid,\r\n        beerid,\r\n        beername,\r\n        breweryid,\r\n        rating,\r\n        comment } = this.state;\r\n\r\n    const reviewUpdate = { \r\n        userid,\r\n        beerid,\r\n        beername,\r\n        breweryid,\r\n        rating,\r\n        comment }\r\n\r\n        console.log(reviewUpdate);\r\n\r\n    apiHandler\r\n      .editReview(this.props.review._id, reviewUpdate)\r\n      .then((data) => {\r\n        console.log(\"success\", data);\r\n        this.props.handleClose();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  // select stars\r\n\r\n  handleAddStars = (rating) => {\r\n    this.setState({\r\n      rating: rating,\r\n    });\r\n  };\r\n\r\n  handleDeleteBeer = (reviewId) => {\r\n    apiHandler\r\n    .deleteReview(reviewId)\r\n    .then(response => {\r\n      console.log(\"success\", response);\r\n      this.props.handleClose();\r\n      this.props.history.push(\"/profile\")\r\n    })\r\n    .catch(err => {console.log(err)})\r\n    \r\n  }\r\n\r\n  render() {\r\n  \r\n\r\n    return (\r\n      <section className=\"form-section\">\r\n        <form autoComplete=\"off\" className=\"form\" onSubmit={this.handleSubmit}>\r\n          <h1 className=\"header\">\r\n            Edit your review <span onClick={this.props.handleClose}>X</span>\r\n          </h1>\r\n\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              className=\"input\"\r\n              id=\"comment\"\r\n              type=\"text\"\r\n              name=\"comment\"\r\n              onChange={this.handleChange}\r\n              defaultValue={this.state.comment}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <ReviewRating setRate={this.handleAddStars} />\r\n          </div>\r\n\r\n          <Button primary>Save</Button>\r\n        </form>\r\n\r\n        <h3>Or, if you're sure... <b onClick={() => this.handleDeleteReview(this.props.review._id)}>delete</b> this review</h3>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UpdateBrewery);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport withUser from \"../Components/Auth/withUser\";\r\nimport NewBeer from \"./NewBeer\";\r\nimport UpdateUser from \"../Components/User/Forms/UpdateUser\";\r\nimport UpdateReview from \"../Components/Reviews/UpdateReview\";\r\nimport \"../Styles/Profile.css\";\r\n// import \"../styles/CardItem.css\";\r\nimport apiHandler from \"../API/apiHandler\";\r\nimport ImageScroller from \"../Components/ImageScroller\";\r\n\r\nclass Profile extends Component {\r\n  // authContext = this.props.context\r\n\r\n  state = {\r\n    user: null,\r\n    beers: null,\r\n    images: null,\r\n    reviews: null,\r\n    beerCount: null,\r\n    reviewCLicked: null,\r\n    showSettings: false,\r\n    reviewEdit: false,\r\n    imageBox: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { context } = this.props;\r\n    const { user } = context;\r\n\r\n    this.setState({ user: user });\r\n\r\n    // get user beers\r\n\r\n    apiHandler\r\n      .getUserBeers()\r\n      .then((dbRes) => {\r\n        this.setState({\r\n          beers: dbRes,\r\n          beerCount: dbRes.length,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    // get user reviews\r\n\r\n    apiHandler\r\n      .getUserReviews()\r\n      .then((dbRes) => {\r\n\r\n        const list = [...dbRes]\r\n\r\n        list.sort((a,b)=> {\r\n          return b.updated_at - a.updated_at\r\n        })\r\n\r\n        this.setState({reviews: list});\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    // get user images\r\n\r\n    apiHandler\r\n      .getUserImages()\r\n      .then((dbRes) => {\r\n        const list = [...dbRes]\r\n\r\n        list.sort((a,b)=> {\r\n          return b.updated_at - a.updated_at\r\n        })\r\n\r\n        this.setState({images: list});\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleShowPhoto = () => {\r\n    this.setState({\r\n      imageBox: !this.state.imageBox\r\n    })\r\n  }\r\n  handleNextPhoto = () => {\r\n    this.setState({ imageNumber: this.state.imageNumber + 1 });\r\n  };\r\n\r\n  handlePreviousPhoto = () => {\r\n    this.setState({ imageNumber: this.state.imageNumber - 1 });\r\n  };\r\n\r\n  handleReviewClicked = (review) => {\r\n    this.setState({\r\n      reviewCLicked: review,\r\n      reviewEdit: true,\r\n    });\r\n  };\r\n\r\n  handleReviewClose = () => {\r\n    this.setState({ reviewEdit: false });\r\n  };\r\n\r\n  handleShowSettings = () => {\r\n  this.setState({\r\n    showSettings: !this.state.showSettings,\r\n  });\r\n  };\r\n\r\n  handleLogout = () => {\r\n    const { context } = this.props;\r\n    \r\n    apiHandler\r\n      .logout()\r\n      .then(() => {\r\n        context.removeUser();\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n \r\n\r\n  render() {\r\n    if (this.state.user === null) {\r\n      return <div>loading...</div>;\r\n    }\r\n\r\n    if (this.state.images === null) {\r\n      return <div>loading...</div>;\r\n    }\r\n\r\n    if (this.state.reviews === null) {\r\n      return <div>loading...</div>;\r\n    }\r\n\r\n    if (this.state.beers === null) {\r\n      return <div>loading...</div>;\r\n    }\r\n\r\n    console.log(this.state);\r\n\r\n    //latest photos/reviews/beers\r\n\r\n    const user = this.state.user;\r\n    const reviews = this.state.reviews.slice(0, 3);\r\n\r\n    return (\r\n      <div className=\"flex-center profile__main\">\r\n        {/* add beer search and form */}\r\n\r\n        <NewBeer />\r\n\r\n        {/* Profile Header */}\r\n        <div className=\"flex-center profile__header\">\r\n          <h1>Welcome {user.userName} </h1>\r\n          <p onClick={this.handleShowSettings}>settings</p>\r\n          <h2>{user.city}</h2>\r\n          <h2>Beer count: {this.state.beerCount}</h2>\r\n          <Link exact to=\"/user-beer\">\r\n            <h3>Check your beers</h3>\r\n          </Link>\r\n        </div>\r\n        {/* settings */}\r\n\r\n        {this.state.showSettings && (\r\n          <div className=\"flex-center profile__settings-box\">\r\n            <h2 onClick={this.handleLogout}>Logout</h2>\r\n            <h2>Update your profile</h2>\r\n            <UpdateUser handleClose={this.handleShowSettings} />\r\n          </div>\r\n        )}\r\n\r\n        {/* Image scroller */}\r\n\r\n\r\n        <h1>latest images</h1>\r\n        <ImageScroller imagesList={this.state.images} onSelect={this.handleShowPhoto}/>\r\n        \r\n        {/* Review list */}\r\n\r\n        <h1>latest reviews</h1>\r\n        {this.state.reviewEdit && (\r\n          <div className=\"flex-center profile__settings-box\">\r\n            <h2>Update this comment</h2>\r\n            <UpdateReview\r\n              review={this.state.reviewCLicked}\r\n              handleClose={this.handleReviewClose}\r\n            />\r\n          </div>\r\n        )}\r\n        <ul>\r\n          {reviews.map((review) => (\r\n            <li>\r\n              <Link exact to={`/beer-detail/${review.beerid}`}>\r\n                <h3>\r\n                  {review.beername} score: {review.rating}\r\n                </h3>\r\n              </Link>\r\n              <h4 onClick={() => this.handleReviewClicked(review)}>edit</h4>\r\n              <p>{review.comment}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(Profile);\r\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport UserContext from './Components/Auth/UserContext';\n// import axios from 'axios';\nimport NavMain from './Components/NavMain'\nimport SignInPage from './Views/SignIn';\nimport SignUpPage from './Views/SignUp';\nimport Beers from './Views/Beers';\n// import NewBeer from './Views/NewBeer';\n// import UpdateBeer from './Views/UpdateBeer';\nimport Lost from './Views/Lost'\nimport BeerDetails from './Views/BeerDetails';\nimport UserBeers from './Views/UserBeers';\n// import api from './API/apiHandler';\nimport Home from './Views/Home'\nimport MapPage from './Views/MapPage';\nimport Profile from './Views/Profile';\n\nimport './App.css';\n\n\n\n\nexport class App extends Component {\n  static contextType = UserContext\n \n  state = {\n    user: null, \n    isLoggedIn: false,\n    loading: true,\n  }\n\n  componentDidMount() {\n    \n  }\n  \n\n  render() {\n\n    // if (!this.context.isLoggedIn) {\n    //   return <div>loading user...</div>\n    // }\n\n    \n\n    return (\n\n\n      <div className=\"App\">\n        \n      \n        <div className=\"app__main-block overflow\">\n\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/signin\" component={SignInPage} />\n          <Route exact path=\"/signup\" component={SignUpPage} />\n          <Route exact path=\"/beer\" component={Beers} />\n          <Route exact path=\"/user-beer\" component={UserBeers} />\n          <Route exact path=\"/beer-detail/:id\" component={BeerDetails} />\n          {/* <Route exact path=\"/beer-add\" component={NewBeer} /> */}\n          <Route exact path=\"/map\" component={MapPage} />\n          <Route exact path=\"/profile\" component={Profile} />\n\n          {/* \n          <Route exact path=\"/beers/:id\" component={BeerDetails} />\n          <Route exact path=\"/beers/edit/:id\" component={UpdateBeer} /> */}\n          <Route exact path=\"*\" component={Lost} />\n        </Switch>\n        \n        </div>\n      \n\n        <NavMain />\n        \n      </div>\n    );\n  }\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport UserContext from \"./UserContext\";\r\nimport apiHandler from \"../../API/apiHandler\";\r\n\r\nclass UserProvider extends React.Component {\r\n  state = {\r\n    user: null,\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .isLoggedIn()\r\n      .then((data) => {\r\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ isLoggedIn: false, isLoading: false });\r\n      });\r\n  }\r\n\r\n  removeUser = () => {\r\n    apiHandler.logout().then(() => {\r\n      this.setState({ user: null, isLoggedIn: false });\r\n    });\r\n  };\r\n\r\n  setUser = (userInfo) => {\r\n    this.setState({ user: userInfo, isLoggedIn: true });\r\n  };\r\n\r\n  render() {\r\n    const contextValue = {\r\n      user: this.state.user,\r\n      isLoggedIn: this.state.isLoggedIn,\r\n      isLoading: this.state.isLoading,\r\n      removeUser: this.removeUser,\r\n      setUser: this.setUser,\r\n    };\r\n\r\n    return (\r\n      <UserContext.Provider value={contextValue}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default UserProvider;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom'\nimport reportWebVitals from './reportWebVitals';\nimport UserProvider from './Components/Auth/UserProvider';\n\n\nimport \"./Styles/reset.css\";\nimport \"./Styles/global.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <UserProvider>\n        <App /> \n      </UserProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}