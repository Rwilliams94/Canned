{"version":3,"sources":["Components/Auth/UserContext.js","Components/Auth/withUser.js","Components/NavMain.jsx","API/apiHandler.js","Components/User/Forms/SignIn.jsx","Views/SignIn.jsx","Components/User/Forms/SignUp.jsx","Views/SignUp.jsx","Components/Rating.jsx","Components/Beers/BeerList.jsx","Components/SearchBar.jsx","Views/Beers.jsx","Views/Lost.jsx","Components/Reviews/ReviewRating.jsx","Components/UploadWidget.jsx","Components/Reviews/ReviewForm.jsx","Components/ImageScroller.jsx","Components/Button.jsx","Components/FeedBack.jsx","Components/BrewSearchBar.jsx","utils.js","Components/Beers/UpdateBeer.jsx","Views/BeerDetails.jsx","Views/UserBeers.jsx","Views/Home.jsx","Components/MapComponent.jsx","Components/AddressSearch.jsx","Components/Breweries/CreateBrewery.jsx","Components/Breweries/UpdateBrewery.jsx","Components/Breweries/BreweryDetails.jsx","Views/MapPage.jsx","Views/NewBeer.jsx","Components/User/Forms/UpdateUser.jsx","Components/Reviews/UpdateReview.jsx","Views/Profile.jsx","App.jsx","reportWebVitals.js","Components/Auth/UserProvider.js","index.js"],"names":["UserContext","React","createContext","withUser","ComponentToExposeContextTo","props","Consumer","context","className","isLoggedIn","exact","to","service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","userInfo","post","then","res","catch","get","query","userUpdate","patch","beerId","delete","newBeer","beerUpdate","newBrewery","breweryId","breweryUpdate","newReview","reviewId","reviewUpdate","newimage","imageId","Signin","state","email","password","handleChange","event","value","target","key","name","setState","handleSubmit","preventDefault","apiHandler","setUser","this","autoComplete","onSubmit","onChange","id","type","placeholder","Component","contextType","SignInPage","SignIn","Signup","SignUpPage","SignUp","Rating","num","Math","round","rating","starOne","starTwo","starThree","starFour","starFive","rel","href","BeerList","beerList","map","beer","_id","src","image","alt","breweryname","SearchBar","search","results","isLoading","handleSearch","clearTimeout","timeoutId","setTimeout","performSearch","onSelect","beers","sendBeer","popUp","rankedBeer","normList","handleListNormal","handleListRanked","handleLogout","removeUser","history","push","list","sort","a","b","releasedate","err","listType","onClick","Lost","ReviewRating","handleOne","setRate","handleTwo","handleThree","handleFour","handleFive","UploadWidget","forwardRef","ref","Fragment","htmlFor","children","file","files","tempURL","URL","createObjectURL","onFileSelect","userId","user","beerName","beername","beerid","userid","imageRef","createRef","comment","fd","FormData","append","entries","pair","current","onComplete","handleFileSelect","temporaryURL","tmpUrl","handleAddStars","ImageScroller","images","imagesList","photos","number","photo","showPhoto","handleNextPhoto","max","length","abs","handlePreviousPhoto","handleShowPhoto","photoClicked","handleDeleteImage","photoId","array","Button","selectedClass","disabled","handleClick","rest","styles","primary","secondary","FeedBack","status","message","brewery","handleBreweryClicked","buildFormData","formData","parentKey","Date","File","Object","keys","forEach","UpdateBeer","httpResponse","formRef","httpRespons","handleClose","handleBrewerySelect","breweryid","handleDeleteBeer","description","abv","date","defaultValue","BrewSearchBar","withRouter","match","params","userBeers","alreadyDrunk","reviewForm","imageForm","beerImages","beerReviews","showSettings","handleAddBeer","handleRemoveBeer","handleShowReview","handleShowImage","handleShowSettings","handleBeerChange","undefined","includes","review","Beers","Home","mapboxgl","workerClass","require","default","Map","ReactMapboxGl","accessToken","MapComponent","breweries","longitude","latitude","breweryClicked","showDetails","showName","breweryList","style","zoom","containerStyle","top","left","bottom","right","position","center","coordinates","anchor","markerClick","PureComponent","AutocompletePlace","handleSearchChange","e","features","handleItemClicked","place","place_name","CreateBrewery","selectedBeer","website","establisheddate","address","handleOnSubmit","handleAddressSelect","location","geometry","UpdateBrewery","BreweryDetails","breweryBeers","handleBeerList","handleDescription","handleBreweryChange","handlebreweryChange","closePopUp","userCity","city","selectedBrewery","showForm","handleShowDetails","handleMarkerClick","handleShowForm","deRes","result","NewBeer","showSearch","handleFormClick","handleSearchClick","handleBeerSelect","UpdateUser","userName","isValidInput","checkError","handleDeleteUser","handleDeleteReview","reviews","beerCount","reviewCLicked","reviewEdit","imageBox","imageNumber","handleReviewClicked","handleReviewClose","dbRes","updated_at","slice","UpdateReview","App","loading","path","component","UserBeers","BeerDetails","MapPage","Profile","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","UserProvider","contextValue","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b5a7f6d3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst UserContext = React.createContext();\r\n\r\nexport default UserContext;","import React from \"react\";\r\nimport UserContext from \"./UserContext\";\r\n\r\nconst withUser = (ComponentToExposeContextTo) => (props) => {\r\n  return (\r\n    <UserContext.Consumer>\r\n      {(context) => <ComponentToExposeContextTo {...props} context={context} />}\r\n    </UserContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default withUser;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport withUser from \"./Auth/withUser\";\r\nimport \"../Styles/NavMain.css\";\r\n\r\nconst Navbar = (props) => {\r\n    const { context } = props\r\n\r\n    \r\n    return (\r\n        <nav className=\"navbar\">\r\n\r\n            {context.isLoggedIn && (\r\n        <ul className=\"nav__list\">\r\n            <li>\r\n                    <NavLink exact to=\"/beer\" className=\"nav__link\">\r\n                        <div className=\"midthin\">\r\n                            Beers\r\n                        </div>\r\n                    </NavLink>\r\n            </li>   \r\n            <li>\r\n                <NavLink exact to=\"/map\" className=\"nav__link middle\">\r\n                    <div className=\"midthin\">\r\n                        Map\r\n                    </div>\r\n                </NavLink>\r\n            </li>  \r\n            <li>\r\n                <NavLink exact to=\"/profile\" className=\"nav__link\">\r\n                    <div className=\"midthin\">\r\n                        Profile\r\n                    </div>\r\n                </NavLink>\r\n            </li>    \r\n        </ul>\r\n                )}\r\n\r\n                {!context.isLoggedIn && (\r\n        <ul className=\"nav__list\">\r\n            <li >\r\n                <NavLink exact to=\"/signin\" className=\"nav__link-half left\">\r\n                <div>\r\n                 Sign In\r\n                </div>\r\n                </NavLink> \r\n            </li>\r\n            <li >\r\n                <NavLink exact to=\"/signup\" className=\"nav__link-half\">\r\n                <div>\r\n                 Sign Up\r\n                </div>\r\n                </NavLink> \r\n            </li>\r\n        </ul>\r\n\r\n                )}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default withUser(Navbar)\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n  baseURL: process.env.REACT_APP_BACKEND_URL,\r\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\r\n});\r\n\r\nfunction errorHandler(error) {\r\n  if (error.response.data) {\r\n    console.log(error.response && error.response.data);\r\n    throw error;\r\n  }\r\n  throw error;\r\n}\r\n\r\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\nexport default {\r\n  service,\r\n\r\n  // ------ Authentification ---------\r\n\r\n  signup(userInfo) {\r\n    return service\r\n      .post(\"/api/auth/signup\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  signin(userInfo) {\r\n    return service\r\n      .post(\"/api/auth/signin\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  isLoggedIn() {\r\n    return service\r\n      .get(\"/api/auth/isLoggedIn\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  logout() {\r\n    return service\r\n      .get(\"/api/auth/logout\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // ------ Searches -------\r\n\r\n  searchBeers(query) {\r\n    \r\n    return service\r\n      .get(`/api/beer/find/?name=${query}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  searchBreweries(query) {\r\n    return service\r\n      .get(`/api/brewery/find/?name=${query}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n\r\n  // ------ User ---------\r\n\r\n  getUser() {\r\n    return service\r\n      .get(\"/api/users/me\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  editUser(userUpdate) {\r\n    return service\r\n      .patch(\"/api/users/edit/me\", userUpdate)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getUserReviews() {\r\n    return service\r\n      .get(\"/api/users/me/reviews\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getUserImages() {\r\n    return service\r\n      .get(\"/api/users/me/images\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getUserBeers() {\r\n    return service\r\n      .get(\"/api/users/me/beers\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  addUserBeer(beerId) {\r\n    return service\r\n      .patch(`/api/users/me/beer/add/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  removeUserBeer(beerId) {\r\n    return service\r\n      .patch(`/api/users/me/beer/remove/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  deleteUser() {\r\n    return service\r\n      .delete(\"/api/users/me/delete\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // ------ Beers ---------\r\n\r\n  getBeers() {\r\n    return service\r\n      .get(\"/api/beer\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getOneBeer(beerId) {\r\n    return service\r\n      .get(`/api/beer/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  CreateBeer(newBeer) {\r\n    return service\r\n      .post(\"/api/beer/add-beer\", newBeer)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  editBeer(beerId, beerUpdate) {\r\n    return service\r\n      .patch(`/api/beer/edit-beer/${beerId}`, beerUpdate)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getBeerReviews(beerId) {\r\n    return service\r\n      .get(`/api/beer/reviews/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getBeerImages(beerId) {\r\n    return service\r\n      .get(`/api/beer/images/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  deleteBeer(beerId) {\r\n    return service\r\n      .delete(`/api/beer/delete/${beerId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // ------ Brewery ---------\r\n\r\n  getBreweries() {\r\n    return service\r\n      .get(\"/api/brewery\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getOneBrewery(breweryId) {\r\n    return service\r\n      .get(`/api/brewery/${breweryId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  CreateBrewery(newBrewery) {\r\n    return service\r\n      .post(\"/api/brewery/add-brewery\", newBrewery)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  editBrewery(breweryId, breweryUpdate) {\r\n    return service\r\n      .patch(`/api/brewery/edit/${breweryId}`, breweryUpdate)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getBreweryReviews(breweryId) {\r\n    return service\r\n      .get(`/api/brewery/reviews/${breweryId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getBreweryImages(breweryId) {\r\n    return service\r\n      .get(`/api/brewery/images/${breweryId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getBreweryBeers(breweryId) {\r\n    return service\r\n    .get(`/api/brewery/beers/${breweryId}`)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  deleteBrewery(breweryId) {\r\n    return service\r\n      .delete(`/api/brewery/delete/${breweryId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // ------ Review ---------\r\n\r\n\r\n  getReviews() {\r\n    return service\r\n      .get(\"/api/review\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getOneReview(reviewId) {\r\n    return service\r\n      .get(`/api/review/${reviewId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  CreateReview(newReview) {\r\n    return service\r\n      .post(\"/api/review/\", newReview)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  editReview(reviewId, reviewUpdate) {\r\n    return service\r\n      .patch(`/api/review/edit/${reviewId}`, reviewUpdate)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  deleteReview(reviewId) {\r\n    return service\r\n      .delete(`/api/review/delete/${reviewId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n\r\n  // ------ Images ---------\r\n\r\n  \r\n  getImages() {\r\n    return service\r\n      .get(\"/api/image\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  getOneimage(imageId) {\r\n    return service\r\n      .get(`/api/image/${imageId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  Createimage(newimage) {\r\n    return service\r\n      .post(\"/api/image/\", newimage)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  deleteimage(imageId) {\r\n    return service\r\n      .delete(`/api/image/delete/${imageId}`)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../../Auth/UserContext\";\r\nimport apiHandler from \"../../../API/apiHandler\";\r\nimport '../../../Styles/Auth.css'\r\n// import \"../../styles/form.css\";\r\n\r\nclass Signin extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    apiHandler\r\n      .signin(this.state)\r\n      .then((data) => {\r\n        this.context.setUser(data); // update the context\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (this.context.isLoggedIn) {\r\n      console.log(\"already signed in\");\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <section className=\"auth__form-section\">\r\n        <header className=\"flex-center auth__header\">\r\n          <h1>\r\n            Welcome back Can Fan\r\n          </h1>\r\n        </header>\r\n\r\n        <form autoComplete=\"off\" className=\" flex-center auth__form\" onSubmit={this.handleSubmit}>\r\n\r\n\r\n          <div className=\"auth__form-group\">\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.email}\r\n              className=\"auth__input\"\r\n              id=\"email\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email Address\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"auth__form-group\">\r\n            <input\r\n              onChange={this.handleChange}\r\n              value={this.state.password}\r\n              className=\"auth__input\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </div>\r\n\r\n          <button className=\"auth__btn\">\r\n            <h2>Sign in</h2>\r\n          </button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signin;","import React from \"react\";\r\nimport SignIn from \"../Components/User/Forms/SignIn\";\r\n\r\n\r\nconst SignInPage = (props) => {\r\n  return <SignIn />;\r\n};\r\n\r\nexport default SignInPage;\r\n","  \r\nimport React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../../Auth/UserContext\";\r\nimport apiHandler from \"../../../API/apiHandler\";\r\n// import \"../../styles/form.css\";\r\n\r\nclass Signup extends Component {\r\n  static contextType = UserContext;\r\n  state = {};\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    apiHandler\r\n      .signup(this.state)\r\n      .then((data) => {\r\n        this.context.setUser(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (this.context.isLoggedIn) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <section className=\"auth__form-section\">\r\n        <header className=\"flex-center auth__header\">\r\n          <h1>\r\n            Welcome to Canned!\r\n          </h1>\r\n        </header>\r\n\r\n        <form\r\n          autoComplete=\"off\"\r\n          className=\"flex-center auth__form\"\r\n          onChange={this.handleChange}\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n\r\n\r\n          <div className=\"auth__form-group\">\r\n            <input\r\n              className=\"auth__input\"\r\n              id=\"userName\"\r\n              type=\"text\"\r\n              name=\"userName\"\r\n              placeholder=\"User Name\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"auth__form-group\">\r\n         \r\n            <input \r\n              className=\"auth__input\" \r\n              id=\"email\" \r\n              type=\"email\" \r\n              name=\"email\" \r\n              placeholder=\"Email Address\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"auth__form-group\">\r\n\r\n            <input\r\n              className=\"auth__input\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </div>\r\n\r\n          \r\n          <div className=\"auth__form-group\">\r\n\r\n            <input\r\n              className=\"auth__input\"\r\n              id=\"city\"\r\n              type=\"text\"\r\n              name=\"city\"\r\n              placeholder=\"Home City\"\r\n            />\r\n          </div>\r\n\r\n          <button className=\"auth__btn\">\r\n            <h2>Sign up</h2>\r\n          </button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signup;","import React from \"react\";\r\nimport SignUp from \"../Components/User/Forms/SignUp\";\r\n\r\nconst SignUpPage = (props) => {\r\n  return <SignUp />;\r\n};\r\n\r\nexport default SignUpPage;\r\n","import React from 'react'\r\nimport \"../Styles/Rating.css\"\r\n\r\nconst Rating = (props) => {\r\n\r\n    \r\n    let num = Math.round(props.rating)\r\n\r\n    let starOne = num < 1 ? \"empty\" : \"\";\r\n    let starTwo = num < 2 ? \"empty\" : \"\";\r\n    let starThree = num < 3 ? \"empty\" : \"\";\r\n    let starFour = num < 4 ? \"empty\" : \"\";\r\n    let starFive = num < 5 ? \"empty\" : \"\";\r\n\r\n    return (\r\n        <div className=\"star__box\">\r\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\r\n\r\n        <span className={`fa fa-star ${starOne}`} ></span>\r\n        <span className={`fa fa-star ${starTwo}`}></span>\r\n        <span className={`fa fa-star ${starThree}`}></span>\r\n        <span className={`fa fa-star ${starFour}`}></span>\r\n        <span className={`fa fa-star ${starFive}`}></span>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Rating\r\n","import React from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport Rating from \"../Rating\"\r\n\r\nconst BeerList = (props) => {\r\n\r\n    const beerList = props.beerList\r\n    console.log(props);\r\n\r\n    return (\r\n        <div>\r\n        <ul className=\"beer__list\">\r\n          {beerList.map((beer) => (\r\n            <li className=\"beer__list-item flex-center\" key={beer._id}>\r\n              <Link exact to={`/beer-detail/${beer._id}`}>\r\n                <div className=\"beer__box\">\r\n                  <div className=\"beer__image-box\">\r\n                    <img\r\n                      className=\"beer__image\"\r\n                      src={beer.image}\r\n                      alt={beer.name}\r\n                    />\r\n                  </div>\r\n                  <div className=\"beer__info\">\r\n                    <h3>{beer.name}</h3>\r\n                  <h4>{beer.breweryname}</h4>\r\n                  <Rating rating={beer.rating} />\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BeerList\r\n","import React, { Component } from \"react\";\r\nimport apiHandler from \"../API/apiHandler\";\r\nimport { Link } from \"react-router-dom\";\r\nimport '../Styles/SearchBar.css'\r\n\r\nexport class SearchBar extends Component {\r\n  state = {\r\n    search: \"\",\r\n    results: [],\r\n    isLoading: false,\r\n  };\r\n\r\n  handleSearch = (event) => {\r\n    this.setState({\r\n      search: event.target.value,\r\n      isLoading: true,\r\n    });\r\n\r\n    clearTimeout(this.timeoutId);\r\n\r\n    this.timeoutId = setTimeout(() => {\r\n      this.performSearch();\r\n    }, 1000);\r\n  };\r\n\r\n  performSearch = () => {\r\n    if (this.state.search === \"\") {\r\n      this.setState({\r\n        results: [],\r\n        isLoading: false,\r\n      });\r\n      return;\r\n    }\r\n\r\n    apiHandler\r\n    .searchBeers(this.state.search)\r\n    .then((response) => {\r\n      this.setState({\r\n        results: response,\r\n        isLoading: false,\r\n      });\r\n    });\r\n  };\r\n\r\n  handleBeerClicked(beer) {\r\n    this.setState({\r\n      search: beer.name,\r\n      results: [],\r\n    });\r\n\r\n    console.log(this.props);\r\n    this.props.onSelect(beer); \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"search__box\">\r\n        <h2 className=\"thin\">Search</h2>\r\n        <input\r\n          className=\"search__bar\"\r\n          type=\"text\"\r\n          value={this.state.search}\r\n          onChange={this.handleSearch}\r\n          name=\"search\"\r\n          id=\"search\"\r\n        />\r\n        <ul className=\"search__results\">\r\n          {this.state.results.map((beer) => (\r\n            <li\r\n              key={beer._id}\r\n              className=\"search__list-item\"\r\n            >\r\n              <Link exact to={`/beer-detail/${beer._id}`}>\r\n              <h4 className=\"thin\">{beer.name} - {beer.breweryname}</h4>\r\n              </Link>\r\n            </li>\r\n          ))}\r\n          {this.state.isLoading && (\r\n            <li className=\"search__list-item\">Beer hunting...</li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React, { Component } from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\nimport apiHandler from \"../API/apiHandler\";\r\n// import Rating from \"../Components/Rating\"\r\nimport BeerList from '../Components/Beers/BeerList'\r\nimport withUser from \"../Components/Auth/withUser\";\r\nimport SearchBar from '../Components/SearchBar'\r\nimport '../Styles/Beer.css'\r\n// import SearchBar from './SearchBar';\r\n\r\nexport class Beers extends Component {\r\n  state = {\r\n    beers: null,\r\n    sendBeer: [],\r\n    popUp: false,\r\n    rankedBeer: null,\r\n    normList: true,\r\n\r\n\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .getBeers()\r\n      .then((response) => {\r\n\r\n        const list = [...response]\r\n\r\n        list.sort((a,b)=> {\r\n          return b.releasedate - a.releasedate\r\n        })\r\n\r\n        this.setState({beers: list});\r\n\r\n        response.sort((a,b) => {\r\n          return b.rating - a.rating\r\n        })\r\n        this.setState({ rankedBeer: response })\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleListNormal = () => {\r\n      this.setState({normList: true})\r\n  }\r\n\r\n  handleListRanked = () => {\r\n    this.setState({normList: false})\r\n}\r\n\r\nhandleLogout = () => {\r\n  const { context } = this.props;\r\n\r\n  apiHandler\r\n    .logout()\r\n    .then(() => {\r\n      context.removeUser();\r\n      this.props.history.push(\"/\");\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\n\r\n  render() {\r\n\r\n    if (this.state.beers === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    const listType = this.state.normList ? this.state.beers : this.state.rankedBeer\r\n\r\n    return (\r\n      <div className=\"beer__main-list\">\r\n\r\n        <SearchBar/>\r\n        <div className=\"beer__list-type\">\r\n          <div onClick={this.handleListNormal} className={`${this.state.normList ? \"\" : \"active\"} flex-center beer__list-switch`}><h2 className=\"thin\">Latest</h2></div>\r\n          <div onClick={this.handleListRanked} className={`${this.state.normList ? \"active\" : \"\"} flex-center beer__list-switch`}><h2 className=\"thin\">Top rated</h2></div>\r\n        </div>\r\n        \r\n        <BeerList beerList={listType}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(Beers);\r\n","import React from 'react';\r\n\r\nconst Lost = () => {\r\n    return (\r\n        <div>\r\n\r\n            <div className=\"lost\">\r\n                <p>you seem a bit lost, let's get back to the beer!</p>                \r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Lost\r\n","\r\nimport React, { Component } from 'react'\r\nimport '../../Styles/Rating.css'\r\n\r\nexport class ReviewRating extends Component {\r\n\r\n    state = {\r\n        rating: 0,\r\n        starOne: \"empty\",\r\n        starTwo: \"empty\",\r\n        starThree: \"empty\",\r\n        starFour: \"empty\",\r\n        starFive: \"empty\",\r\n    }\r\n\r\n    \r\n    handleOne = () => {\r\n        this.setState({\r\n            rating: 1,\r\n            starOne: \"\",\r\n            starTwo: \"empty\",\r\n            starThree: \"empty\",\r\n            starFour: \"empty\",\r\n            starFive: \"empty\",\r\n          \r\n        })\r\n\r\n        this.props.setRate(this.state.rating)\r\n        console.log(this.state);\r\n    }\r\n\r\n    handleTwo = () => {\r\n        this.setState({\r\n            rating: 2,\r\n            starOne: \"\",\r\n            starTwo: \"\",\r\n            starThree: \"empty\",\r\n            starFour: \"empty\",\r\n            starFive: \"empty\",\r\n        })\r\n        this.props.setRate(this.state.rating)\r\n        console.log(this.state);\r\n    }\r\n\r\n    handleThree = () => {\r\n        this.setState({\r\n            rating: 3,\r\n            starOne: \"\",\r\n            starTwo: \"\",\r\n            starThree: \"\",\r\n            starFour: \"empty\",\r\n            starFive: \"empty\",\r\n   \r\n        })\r\n        this.props.setRate(this.state.rating)\r\n        console.log(this.state);\r\n    }\r\n\r\n    handleFour = () => {\r\n        this.setState({\r\n            rating: 4,\r\n            starOne: \"\",\r\n            starTwo: \"\",\r\n            starThree: \"\",\r\n            starFour: \"\",\r\n            starFive: \"empty\",\r\n        })\r\n        this.props.setRate(this.state.rating)\r\n        console.log(this.state);\r\n    }\r\n\r\n    handleFive = () => {\r\n        this.setState({\r\n            rating: 5,\r\n            starOne: \"\",\r\n            starTwo: \"\",\r\n            starThree: \"\",\r\n            starFour: \"\",\r\n            starFive: \"\",\r\n        })\r\n        this.props.setRate(this.state.rating)\r\n        console.log(this.state);\r\n    }\r\n\r\n    render() {\r\n\r\n        \r\n\r\n        return (\r\n            <div>\r\n                <div className=\"review__star__box\">\r\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\r\n\r\n                    <span onClick={this.handleOne} className={`fa fa-star ${this.state.starOne}`} ></span>\r\n                    <span onClick={this.handleTwo} className={`fa fa-star ${this.state.starTwo}`}></span>\r\n                    <span onClick={this.handleThree} className={`fa fa-star ${this.state.starThree}`}></span>\r\n                    <span onClick={this.handleFour} className={`fa fa-star ${this.state.starFour}`}></span>\r\n                    <span onClick={this.handleFive} className={`fa fa-star ${this.state.starFive}`}></span>\r\n            \r\n                </div>\r\n                        \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ReviewRating\r\n\r\n","import React from \"react\";\r\nimport '../Styles/UploadWidget.css'\r\n\r\n// https://reactjs.org/docs/forwarding-refs.html\r\n\r\nconst UploadWidget = React.forwardRef((props, ref) => {\r\n  // In this component we foward the ref of the input type file in order to deal with it in the parent component.\r\n\r\n  const handleFileSelect = (event) => {\r\n    // This feature allows us to create a \"fake URL\" of the file that the user wants to upload\r\n    // In order to display the output to the user.\r\n    // See <FormProfile /> or <ItemForm />\r\n    const file = event.target.files[0];\r\n    const tempURL = URL.createObjectURL(file);\r\n    props.onFileSelect && props.onFileSelect(tempURL);\r\n    // ^------------------------ You can use guard operators in your normal javascript too !\r\n    // This means that the prop onFileSelect isn't mandatory in order to use this component.\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <label className=\"UploadWidget label\" htmlFor={props.name}>\r\n        {props.children}\r\n      </label>\r\n      <input\r\n        onChange={handleFileSelect}\r\n        ref={ref}\r\n        className=\"UploadWidget input\"\r\n        id={props.name}\r\n        name={props.name}\r\n        type=\"file\"\r\n      />\r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\nexport default UploadWidget;\r\n","  \r\nimport React, { Component } from \"react\";\r\n// import UserContext from \"../Auth/UserContext\";\r\nimport withUser from '../Auth/withUser'\r\nimport apiHandler from \"../../API/apiHandler\";\r\nimport ReviewRating from '../Reviews/ReviewRating';\r\nimport UploadWidget from '../UploadWidget'\r\nimport '../../Styles/Forms.css'\r\n\r\n// import \"../../styles/form.css\";\r\n\r\nclass ReviewForm extends Component {\r\n  // static contextType = UserContext;\r\n  beerId = this.props.beerId\r\n  userId = this.props.context.user._id\r\n  beerName = this.props.beerName\r\n\r\n  state = {\r\n      beername: this.beerName,\r\n      beerid: this.beerId,\r\n      userid: this.userId,\r\n  };\r\n\r\n  \r\n\r\n\r\n  imageRef = React.createRef();\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n    console.log(this.state);\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n   \r\n    const {beername, beerid, userid, rating, comment} = this.state;\r\n    \r\n    const newReview = {\r\n      beerid,\r\n      beername,\r\n      userid,\r\n      rating,\r\n      comment,\r\n    }\r\n\r\n\r\n\r\n\r\n    const fd = new FormData();\r\n\r\n    for (const key in this.state) {\r\n      if (key === \"image\") continue;\r\n      fd.append(key, this.state[key]);\r\n    }\r\n\r\n    for (var pair of fd.entries()) {\r\n      console.log(pair[0] + \", \" + pair[1]);\r\n    }\r\n\r\n    if (this.imageRef.current.files[0]) {\r\n      fd.append(\"image\", this.imageRef.current.files[0]);\r\n    }\r\n    \r\n    apiHandler\r\n      .CreateReview(newReview)\r\n      .then((data) => {\r\n        console.log(data, \"success\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    if (this.imageRef.current.files[0]) {\r\n      apiHandler\r\n      .Createimage(fd)\r\n      .then((data) => {\r\n        console.log(data, \"success\");\r\n      })\r\n      .catch(err => console.log(err))\r\n    }\r\n\r\n    this.props.onComplete()\r\n  };\r\n\r\n  handleFileSelect = (temporaryURL) => {\r\n    // Get the temporaryURL from the UploadWidget component and\r\n    // set the state so we can have a visual feedback on what the image will look like :)\r\n    this.setState({ tmpUrl: temporaryURL });\r\n  };\r\n\r\n  handleAddStars = (rating) => {\r\n      this.setState({rating: rating})\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    console.log(this.state);\r\n\r\n    return (\r\n      <section className=\"reivew__form-main\">\r\n        <header className=\"header\">\r\n          <h3>\r\n            Add a Review of {this.props.beerName}\r\n          </h3>\r\n        </header>\r\n\r\n        <form\r\n          autoComplete=\"off\"\r\n          className=\"review__form\"\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n\r\n          <div className=\"form-group\">\r\n            <ReviewRating setRate={this.handleAddStars}/>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              className=\"review__comment\"\r\n              id=\"comment\"\r\n              type=\"text\"\r\n              name=\"comment\"\r\n              value={this.state.comment}\r\n              placeholder=\"Write your thoughts\"\r\n              onChange={this.handleChange}\r\n            ></textarea>\r\n          </div>\r\n\r\n            <div className=\"newbeer__image-output\">\r\n              <UploadWidget\r\n                ref={this.imageRef}\r\n                onFileSelect={this.handleFileSelect}\r\n                name=\"image\"\r\n              >\r\n                Upload image\r\n              </UploadWidget>\r\n\r\n              <div className=\"flex-center upload__image-box \">\r\n                {!this.state.tmpUrl ? (\r\n                  \"\"\r\n                ) : (\r\n                  <img className=\"upload__image\" src={this.state.tmpUrl} alt=\"beer\" />\r\n                )}\r\n              </div>\r\n            </div>\r\n          <button className=\"btn-submit\">Review Can</button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(ReviewForm);","import React, { Component } from 'react'\r\nimport '../Styles/ImageScroller.css'\r\nimport apiHandler from '../API/apiHandler'\r\n\r\nexport class ImageScroller extends Component {\r\n\r\n    images = this.props.imagesList\r\n\r\n    state = {\r\n        photos: this.images,\r\n        number: 0,\r\n        photo: 0,\r\n        showPhoto: false,\r\n    }\r\n\r\n    handleNextPhoto = () => {\r\n        const max = this.state.photos.length\r\n        this.setState({number: this.state.number +1})\r\n        const num = Math.abs(this.state.number)%max\r\n        this.setState({photo: num})\r\n        console.log(this.state.photo, this.state.number);\r\n\r\n    }\r\n\r\n    handlePreviousPhoto = () => {\r\n        const max = this.state.photos.length\r\n        this.setState({number: this.state.number -1})\r\n        const num = Math.abs(this.state.number)%max\r\n        this.setState({photo: num})\r\n        console.log(this.state.photo, this.state.number);\r\n    }\r\n\r\n    handleShowPhoto = (photo) => {\r\n      this.setState({\r\n        showPhoto: !this.state.showPhoto,\r\n        photoClicked: photo,\r\n      })\r\n    }\r\n\r\n    handleShowPhoto = (photo) => {\r\n      this.setState({\r\n        showPhoto: !this.state.showPhoto,\r\n        photoClicked: photo,\r\n      })\r\n    }\r\n\r\n    handleDeleteImage = (photoId) => {\r\n      apiHandler\r\n      .deleteimage(photoId)\r\n      .then(response => {\r\n        console.log(\"success\", response);\r\n        this.props.history.push(\"/profile\")\r\n      })\r\n      .catch(err => {console.log(err)})\r\n      \r\n    }\r\n\r\n    render() {\r\n\r\n        const array = this.state.photos\r\n        const num = this.state.photo\r\n\r\n\r\n        if(this.state.images) {\r\n            return <div>loading images...</div>\r\n        }\r\n\r\n        return (\r\n          <div className=\"flex-center\">\r\n            {this.state.showPhoto && (\r\n            <div className=\"flex-center image__large-box\">\r\n              <h2 className=\"thin\">{this.state.photoClicked.beername}</h2>\r\n              <img className=\"image__large-image\" src={this.state.photoClicked.image} alt=\"\"/>\r\n              <h5 onClick={this.handleShowPhoto}>back</h5>\r\n              <p className=\"settings\" onClick={this.handleDeleteImage}>delete this image?</p>\r\n            </div>\r\n            )}\r\n            {this.state.photos.length === 0 ? (<div><h2>no photos to display</h2></div>) :\r\n            (<div className=\"image__gallery-box \">\r\n              <p onClick={this.handlePreviousPhoto}>{`<`}</p>\r\n              <div className=\"image__gallery-grid\">\r\n                <div className=\"flex-center image__image-box\" onClick={() => {this.handleShowPhoto(array[num])}}>\r\n                    <img className=\"image__gallery-photo\" src={array[num].image} alt={num}/>\r\n                </div>\r\n                <div className=\"flex-center image__image-box\" onClick={() => {this.handleShowPhoto(array[num+1])}}>\r\n                   {this.state.photos.length > 1 ? <img className=\"image__gallery-photo\" src={array[num+1].image} alt={num+1}/> : \"\"}\r\n                </div>\r\n                <div className=\"flex-center image__image-box\" onClick={() => {this.handleShowPhoto(array[num+2])}}>\r\n                {this.state.photos.length > 2 ? <img className=\"image__gallery-photo\" src={array[num+2].image} alt={num+2}/> : \"\"}\r\n                </div>\r\n              </div>\r\n              <p onClick={this.handleNextPhoto}>{'>'}</p>\r\n            </div>)}\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ImageScroller\r\n","import React from \"react\";\r\n// import \"../styles/Buttons.css\";\r\n\r\nconst Button = ({ children, disabled, handleClick, ...rest }) => {\r\n  const styles = {\r\n    primary: \"primary\",\r\n    secondary: \"secondary\",\r\n  };\r\n\r\n  let selectedClass;\r\n  for (const key in rest) {\r\n    if (styles[key]) {\r\n      selectedClass = styles[key];\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button\r\n      disabled={disabled}\r\n      id=\"Btn\"\r\n      className={`Btn btn-${selectedClass || \"\"}`}\r\n      onClick={handleClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;","import React from \"react\";\r\nimport \"../Styles/FeedBack.css\";\r\n\r\nconst FeedBack = ({ status, message }) => {\r\n  return (\r\n    <div className={`FeedBack ${status}`}>\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeedBack;","import React, { Component } from \"react\";\r\nimport apiHandler from \"../API/apiHandler\";\r\nimport '../Styles/SearchBar.css'\r\n\r\nexport class SearchBar extends Component {\r\n  state = {\r\n    search: \"\",\r\n    results: [],\r\n    isLoading: false,\r\n  };\r\n\r\n  handleSearch = (event) => {\r\n    this.setState({\r\n      search: event.target.value,\r\n      isLoading: true,\r\n    });\r\n\r\n    clearTimeout(this.timeoutId);\r\n\r\n    this.timeoutId = setTimeout(() => {\r\n      this.performSearch();\r\n    }, 1000);\r\n  };\r\n\r\n  performSearch = () => {\r\n    if (this.state.search === \"\") {\r\n      this.setState({\r\n        results: [],\r\n        isLoading: false,\r\n      });\r\n      return;\r\n    }\r\n\r\n    apiHandler.searchBreweries(this.state.search).then((response) => {\r\n      this.setState({\r\n        results: response,\r\n        isLoading: false,\r\n      });\r\n    });\r\n  };\r\n\r\n  handleBreweryClicked(brewery) {\r\n    this.setState({\r\n      search: brewery.name,\r\n      results: [],\r\n    });\r\n    console.log(this.props);\r\n    this.props.onSelect(brewery); \r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"search__box\">\r\n        <h2 className=\"thin\">Search</h2>\r\n        <input\r\n          className=\"search__bar\"\r\n          type=\"text\"\r\n          value={this.state.search}\r\n          onChange={this.handleSearch}\r\n          name=\"searchBrew\"\r\n          id=\"searchBrew\"\r\n        />\r\n        <ul className=\"search__results\">\r\n          {this.state.results.map((brewery) => (\r\n            <li\r\n              key={brewery._id}\r\n              className=\"search__list-item\"\r\n              onClick={() => this.handleBreweryClicked(brewery)}\r\n            >\r\n              <h4 className=\"thin\">{brewery.name}</h4>\r\n            </li>\r\n          ))}\r\n          {this.state.isLoading && (\r\n            <li className=\"search__list-item\">Brewery hunting...</li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","  \r\nexport function buildFormData(formData, data, parentKey) {\r\n    if (\r\n      data &&\r\n      typeof data === \"object\" &&\r\n      !(data instanceof Date) &&\r\n      !(data instanceof File)\r\n    ) {\r\n      Object.keys(data).forEach((key) => {\r\n        buildFormData(\r\n          formData,\r\n          data[key],\r\n          parentKey ? `${parentKey}[${key}]` : key\r\n        );\r\n      });\r\n    } else {\r\n      const value = data == null ? \"\" : data;\r\n      formData.append(parentKey, value);\r\n    }\r\n  }","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import Button from \"../Button\";\r\nimport Button from '../Button'\r\nimport UploadWidget from \"../UploadWidget\";\r\nimport FeedBack from \"../FeedBack\";\r\nimport apiHandler from \"../../API/apiHandler\";\r\nimport UserContext from \"../Auth/UserContext\";\r\nimport BrewSearchBar from \"../BrewSearchBar\";\r\nimport ReviewRating from \"../Reviews/ReviewRating\";\r\nimport { buildFormData } from \"../../utils\";\r\n// import \"../../styles/form.css\";\r\n\r\nclass UpdateBeer extends Component {\r\n  static contextType = UserContext \r\n\r\n  state = {\r\n    httpResponse: null,\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n  formRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      beer: this.props.beer,\r\n      isLoading: false\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const value =\r\n      event.target.type === \"file\" ? event.target.files[0] : event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    \r\n      \r\n    const fd = new FormData();\r\n\r\n    const { httpRespons, ... data } = this.state;\r\n    \r\n    buildFormData(fd, data)\r\n\r\n    apiHandler\r\n      .editBeer(this.props.beer._id, fd)\r\n      .then((data) => {\r\n        \r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"success\",\r\n            message: \"beer successfully updated.\",\r\n          },\r\n        });\r\n\r\n        \r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n\r\n        \r\n        this.props.handleChange(data)\r\n        this.props.handleClose()\r\n\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"failure\",\r\n            message:\r\n              \"Something bad happened while updating your beer, try again later\",\r\n          },\r\n        });\r\n\r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  // select image\r\n\r\n  handleFileSelect = (tempURL, file) => {\r\n    this.setState({ image: file });\r\n  };\r\n\r\n // select brewery\r\n  \r\n  handleBrewerySelect = (brewery) => {\r\n    this.setState({\r\n      breweryname: brewery.name, \r\n      breweryid: brewery._id \r\n    });\r\n  };\r\n\r\n// select stars \r\n\r\nhandleAddStars = (rating) => {\r\n  this.setState({\r\n      rating: rating\r\n    });\r\n};\r\n\r\nhandleDeleteBeer = (beerId) => {\r\n  apiHandler\r\n  .deleteBeer(beerId)\r\n  .then(response => {\r\n    console.log(\"success\", response);\r\n    this.props.history.push(\"/beer\")\r\n  })\r\n  .catch(err => {console.log(err)})\r\n  \r\n}\r\n\r\n  render() {\r\n    console.log(this.props);\r\n\r\n    const { httpResponse } = this.state;\r\n\r\n    const {\r\n      name,\r\n      description,\r\n      abv,\r\n      breweryname,\r\n      releasedate,\r\n      breweryid,\r\n      rating,\r\n      date,\r\n      _id,\r\n\r\n    } = this.props.beer;\r\n\r\n   \r\n\r\n    return (\r\n      <section className=\"form-section\">\r\n        <form autoComplete=\"off\" className=\"form\" onSubmit={this.handleSubmit}>\r\n          <h1 className=\"header\">Edit this can <span onClick={this.props.handleClose}>X</span></h1>\r\n\r\n          <div className=\"round-image widget-image\">\r\n            <img\r\n              src={this.state.tmpUrl || this.props.beer.image}\r\n              alt={name}\r\n            />\r\n          </div>\r\n          <div className=\"form-group-uploadwidget\">\r\n            <UploadWidget\r\n              // ref={this.imageRef}\r\n              onFileSelect={this.handleFileSelect}\r\n              name=\"image\"\r\n            >\r\n              Change image\r\n            </UploadWidget>\r\n          </div>\r\n\r\n          {httpResponse && (\r\n            <FeedBack\r\n              message={httpResponse.message}\r\n              status={httpResponse.status}\r\n            />\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              className=\"input\"\r\n              id=\"name\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              onChange={this.handleChange}\r\n              defaultValue={name}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n         \r\n            <textarea\r\n              className=\"input\"\r\n              id=\"description\"\r\n              type=\"text\"\r\n              name=\"description\"\r\n              defaultValue={description}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <ReviewRating setRate={this.handleAddStars} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <h2>Current brewery: {breweryname}</h2>\r\n            <BrewSearchBar onSelect={this.handleBrewerySelect} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n                  className=\"form__input\"\r\n                  onChange={this.handleChange}\r\n                  defaultValue={abv}\r\n                  type=\"number\"\r\n                  name=\"abv\"\r\n                  id=\"abv\"\r\n                />\r\n           </div>\r\n          <div className=\"form-group\">\r\n           \r\n            <input\r\n              className=\"input\"\r\n              id=\"releasedate\"\r\n              type=\"number\"\r\n              name=\"releasedate\"\r\n              onChange={this.handleChange}\r\n              defaultValue={releasedate}\r\n            />\r\n         \r\n          </div>\r\n          <Button primary>\r\n            Save\r\n          </Button>\r\n        </form>\r\n\r\n        <h3>Or, if you're sure... <b onClick={() => this.handleDeleteBeer(_id)}>delete</b> this beer</h3>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UpdateBeer);","import React, { Component } from \"react\";\r\n// import { Link, NavLink } from \"react-router-dom\";\r\nimport apiHandler from \"../API/apiHandler\";\r\nimport withUser from \"../Components/Auth/withUser\";\r\nimport Rating from \"../Components/Rating\";\r\nimport ReviewForm from \"../Components/Reviews/ReviewForm\";\r\nimport ImageScroller from \"../Components/ImageScroller\";\r\nimport UpdateBeer from \"../Components/Beers/UpdateBeer\";\r\nimport \"../Styles/Details.css\";\r\n\r\nexport class BeerDetails extends Component {\r\n  beerId = this.props.match.params.id;\r\n\r\n  state = {\r\n    user: null,\r\n    beer: null,\r\n    userBeers: null,\r\n    alreadyDrunk: false,\r\n    reviewForm: false,\r\n    imageForm: false,\r\n    beerImages: null,\r\n    beerReviews: null,\r\n    showSettings: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { context } = this.props;\r\n    const { user } = context;\r\n\r\n    this.setState({\r\n      user: user,\r\n      userBeers: user.beers,\r\n    });\r\n\r\n    apiHandler\r\n      .getOneBeer(this.beerId)\r\n      .then((response) => {\r\n        if (response.name === undefined) this.props.history.push(\"/*\");\r\n        this.setState({ beer: response });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    if (user.beers.includes(this.beerId)) {\r\n      this.setState({ alreadyDrunk: true });\r\n    }\r\n\r\n    apiHandler\r\n      .getBeerImages(this.beerId)\r\n      .then((response) => {\r\n        if (response.length > 0) {\r\n          this.setState({ beerImages: response });\r\n        } else {\r\n          this.setState({ beerImages: [] });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    apiHandler\r\n      .getBeerReviews(this.beerId)\r\n      .then((response) => {\r\n        if (response.length > 0) {\r\n          this.setState({ beerReviews: response });\r\n        } else {\r\n          this.setState({ beerReviews: [] });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  handleAddBeer = () => {\r\n    apiHandler\r\n      .addUserBeer(this.beerId)\r\n      .then((response) => {\r\n        console.log(\"success\");\r\n        this.setState({ alreadyDrunk: !this.state.alreadyDrunk });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  handleRemoveBeer = () => {\r\n    apiHandler\r\n      .removeUserBeer(this.beerId)\r\n      .then((response) => {\r\n        console.log(\"success\");\r\n        this.setState({\r\n          alreadyDrunk: !this.state.alreadyDrunk,\r\n          reviewForm: false,\r\n          imageForm: false,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  handleShowReview = () => {\r\n    console.log(\"click\");\r\n    this.setState({ reviewForm: !this.state.reviewForm });\r\n  };\r\n\r\n  handleShowImage = () => {\r\n    this.setState({ imageForm: !this.state.imageForm });\r\n  };\r\n\r\n  handleShowSettings = () => {\r\n    this.setState({\r\n      showSettings: !this.state.showSettings,\r\n    });\r\n  };\r\n\r\n  handleBeerChange = (newBeer) => {\r\n    this.setState({\r\n      beer: newBeer,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.user === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    if (this.state.beer === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    if (this.state.beerImages === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    if (this.state.beerReviews === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    const beer = this.state.beer;\r\n\r\n    return (\r\n      <div className=\"details__main\">\r\n        <div className=\"details__link-bar\">\r\n          {this.state.alreadyDrunk ? (\r\n            <div className=\"flex-center\">\r\n              <h3 className=\"flex-center midthin canned\">Canned!</h3>\r\n\r\n              <div className=\"details__canned-options\">\r\n                <h3 className={`${this.state.reviewForm && \"active\"} flex-center details__link-bar-links`} onClick={this.handleShowReview}>Review</h3>\r\n                <h3 className={`flex-center details__link-bar-links`} onClick={this.handleRemoveBeer}>un-Can?</h3>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <h3 className=\"flex-center midthin canned\" onClick={this.handleAddBeer}>+ Can it!</h3>\r\n          )}\r\n          {this.state.reviewForm && (\r\n            <ReviewForm\r\n              beerName={beer.name}\r\n              beerId={this.beerId}\r\n              onComplete={this.handleShowReview}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        <div className={`details__box overflow ${this.state.alreadyDrunk && \"can-move\"}`}>\r\n          <div className=\"details__top-box\">\r\n            <div className=\"flex-center details__image-box\">\r\n              <img className=\"details__image\" src={beer.image} alt=\"beer\" />\r\n            </div>\r\n            <div className=\"details__info-box\">\r\n              <h1 className=\"beername\">{beer.name}</h1>\r\n              <h4>{beer.breweryname}</h4>\r\n              <div className=\"details__rating\">\r\n                <Rating rating={beer.rating} />\r\n              </div>\r\n              <p>{beer.abv}% ABV</p>\r\n              <h4 className=\"settings\" onClick={this.handleShowSettings}>settings</h4>\r\n            </div>\r\n\r\n            {/* settings */}\r\n\r\n            {this.state.showSettings && (\r\n              <div className=\"overflow settings-box\">\r\n                <UpdateBeer\r\n                  beer={this.state.beer}\r\n                  handleChange={this.handleBeerChange}\r\n                  handleClose={this.handleShowSettings}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n         \r\n\r\n          <div className=\"details__description\">\r\n            <p>{beer.description}</p>\r\n          </div>\r\n          \r\n          <h3 className=\"comments midthin flex-center\">Images</h3>\r\n          <div className=\"details__image-scroll\">\r\n            {this.state.beerImages.length > 0 ? (\r\n              <ImageScroller imagesList={this.state.beerImages} />\r\n            ) : (\r\n              <h1>The beer has no Can snaps yet!</h1>\r\n            )}\r\n          </div>\r\n\r\n          <h3 className=\"comments midthin flex-center\">Comments</h3>\r\n          <ul>\r\n            {this.state.beerReviews.map((review) => (\r\n              <li className=\"beer__list-item flex-center\">\r\n                <Rating rating={review.rating} />\r\n                <p>{review.comment}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(BeerDetails);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Rating from '../Components/Rating'\r\nimport apiHandler from \"../API/apiHandler\";\r\n// import SearchBar from './SearchBar';\r\n\r\nexport class Beers extends Component {\r\n  state = {\r\n    beers: null,\r\n    sendBeer: [],\r\n    popUp: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .getUserBeers()\r\n      .then((response) => {\r\n        // console.log(response);\r\n        this.setState({ beers: response });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.state.beers === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"beer__main-list\">\r\n        <ul className=\"beer__list\">\r\n          {this.state.beers.map((beer) => (\r\n            <li className=\"beer__list-item\" key={beer._id}>\r\n              <div className=\"beer__box\">\r\n                <div className=\"beer__image-box\">\r\n                  <img\r\n                    className=\"beer__image\"\r\n                    src={beer.image}\r\n                    alt={beer.name}\r\n                  />\r\n                </div>\r\n                <div className=\"beer__info\">\r\n                <Link exact to={`/beer-detail/${beer._id}`}>\r\n                  <h3>{beer.name}</h3>\r\n                </Link>\r\n                <h4>{beer.breweryname}</h4>\r\n                <Rating rating={beer.rating}/>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Beers;\r\n","import React from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport '../Styles/Home.css'\r\n\r\n\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div className=\"home__main\">\r\n          <h1 className=\"home__title\">Canned!</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import ReactMapboxGl, { Marker } from \"react-mapbox-gl\";\r\nimport React from \"react\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport \"../Styles/MapPage.css\";\r\n\r\n\r\n// @ts-ignore\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\n// import marker from '../assets/avatar.png'\r\nconst markerUrl =\r\n  \"https://res.cloudinary.com/dahzswwzk/image/upload/v1617034208/Basic_UI_Icon_Pack_-_Flat_map_pointer-512_d9c33w.webp\";\r\n\r\nconst Map = ReactMapboxGl({\r\n  accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\r\n});\r\n\r\nexport class MapComponent extends React.PureComponent {\r\n  state = {\r\n    breweries: null,\r\n    longitude: null,\r\n    latitude: null,\r\n    breweryClicked: null,\r\n    showDetails: false,\r\n    showName: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      breweries: this.props.breweryList,\r\n      longitude: this.props.longitude,\r\n      latitude: this.props.latitude,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.setState({\r\n      longitude: this.props.longitude,\r\n      latitude: this.props.latitude,\r\n    });\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n  render() {\r\n    if (this.state.breweries === null) {\r\n      return <div> loading map... </div>;\r\n    }\r\n    if (this.state.longitude === null) {\r\n      return <div> loading map... </div>;\r\n    }\r\n    if (this.state.latitude === null) {\r\n      return <div> loading map... </div>;\r\n    }\r\n\r\n\r\n    return (\r\n      <div className=\"map__main\">\r\n          <Map\r\n            // eslint-disable-next-line\r\n            style={\"mapbox://styles/mapbox/streets-v10\"}\r\n            zoom={[11]}\r\n            containerStyle={{\r\n              top: \"8.2vh\",\r\n              left: 0,\r\n              bottom: 0,\r\n              right: 0,\r\n              position: \"absolute\",\r\n            }}\r\n            center={[this.state.longitude, this.state.latitude]}\r\n          >\r\n          \r\n          {this.state.breweries.map((brewery) => (\r\n              <Marker\r\n                coordinates={[brewery.longitude, brewery.latitude]}\r\n                anchor=\"bottom\"\r\n                key={brewery._id}\r\n                onClick={() => this.props.markerClick(brewery)}\r\n              >\r\n                <img className=\"map-marker\" src={markerUrl} alt=\"marker\" />\r\n              </Marker>\r\n            ))}\r\n          </Map>\r\n\r\n     \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MapComponent;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../Styles/AddressSearch.css\";\r\n\r\n/*\r\n *  Thanks to @mc100s for this component\r\n *  https://github.com/mc100s\r\n *\r\n */\r\n\r\nclass AutocompletePlace extends Component {\r\n\r\n    state = {\r\n      search: \"\",\r\n      results: [],\r\n      isLoading: false,\r\n    };\r\n\r\n  \r\n\r\n  handleSearchChange = (e) => {\r\n\r\n    this.setState({\r\n      search: e.target.value,\r\n      isLoading: true,\r\n    });\r\n\r\n    // Stop the previous setTimeout if there is one in progress\r\n    clearTimeout(this.timeoutId);\r\n\r\n    // Launch a new request in 1000ms (1s) => Avoids excessive requests to the end point.\r\n    this.timeoutId = setTimeout(() => {\r\n      this.performSearch();\r\n    }, 1000);\r\n  }\r\n\r\n  performSearch = () => {\r\n    if (this.state.search === \"\") {\r\n      this.setState({\r\n        results: [],\r\n        isLoading: false,\r\n      });\r\n      return;\r\n    }\r\n    // https://docs.mapbox.com/api/search/geocoding\r\n    axios\r\n      .get(\r\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.search}.json?access_token=pk.eyJ1Ijoicm10d2lsbGlhbXMiLCJhIjoiY2ttbThvcXNwMGRyazJ3bGVwdG9sbnRzcSJ9.0R-H-K5vBBYCOD9m6cCxXw`\r\n      )\r\n      .then((response) => {\r\n        this.setState({\r\n          results: response.data.features,\r\n          isLoading: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  handleItemClicked = (place) => {\r\n    this.setState({\r\n      search: place.place_name,\r\n      results: [],\r\n    });\r\n\r\n    this.props.onSelect(place);\r\n  }\r\n\r\n  render() {\r\n    const { results, isLoading } = this.state;\r\n    return (\r\n      <div className=\"AutocompletePlace\">\r\n        <input\r\n          className=\"Autocomplete__input\"\r\n          type=\"text\"\r\n          value={this.props.defaultValue || this.state.search}\r\n          onChange={this.handleSearchChange}\r\n          placeholder=\"Type an address\"\r\n        />\r\n        <ul className=\"AutocompletePlace-results overflow\">\r\n          {results.map((place) => (\r\n            <li\r\n              key={place.id}\r\n              className=\"AutocompletePlace-items\"\r\n              onClick={() => this.handleItemClicked(place)}\r\n            >\r\n              {place.place_name}\r\n            </li>\r\n          ))}\r\n          {isLoading && <li className=\"AutocompletePlace-items\">Loading...</li>}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AutocompletePlace;","import React, { Component } from \"react\";\r\nimport AddressSearch from \"../AddressSearch\";\r\nimport ReviewRating from \"../../Components/Reviews/ReviewRating\";\r\nimport UploadWidget from \"../../Components/UploadWidget\";\r\nimport UserContext from \"../../Components/Auth/UserContext\";\r\nimport \"../../Styles/Forms.css\";\r\nimport apiHandler from \"../../API/apiHandler\"\r\n// import apiHandler from '../API/apiHandler'\r\n\r\nexport class CreateBrewery extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    selectedBeer: null,\r\n    rating: null,\r\n    name: null,\r\n    description: null,\r\n    website: null,\r\n    establisheddate: null,\r\n    address: null,\r\n    latitude: null,\r\n    longitude: null,\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const name = event.target.name;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleOnSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const fd = new FormData();\r\n\r\n    for (const key in this.state) {\r\n      if (key === \"image\") continue;\r\n      fd.append(key, this.state[key]);\r\n    }\r\n\r\n    for (var pair of fd.entries()) {\r\n      console.log(pair[0] + \", \" + pair[1]);\r\n    }\r\n\r\n    if (this.imageRef.current.files[0]) {\r\n      fd.append(\"image\", this.imageRef.current.files[0]);\r\n    }\r\n\r\n\r\n    apiHandler\r\n      .CreateBrewery(fd)\r\n      .then((data) => {\r\n        //log success\r\n\r\n        console.log(\"success\", data);\r\n\r\n        // reset state\r\n\r\n        this.setState({\r\n          rating: null,\r\n          name: null,\r\n          description: null,\r\n          website: null,\r\n          establisheddate: 2021,\r\n          address: null,\r\n          latitude: null,\r\n          longitude: null,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  handleFileSelect = (temporaryURL) => {\r\n    this.setState({ tmpUrl: temporaryURL });\r\n  };\r\n\r\n  handleAddressSelect = (location) => {\r\n    console.log(location);\r\n    this.setState({\r\n        address: location.place_name,\r\n        longitude: location.geometry.coordinates[0],\r\n        latitude: location.geometry.coordinates[1],\r\n    });\r\n  };\r\n\r\n\r\n  handleAddStars = (rating) => {\r\n    this.setState({ rating: rating });\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"brewery__form-main\">\r\n          <form\r\n            className=\"brewery__form\"\r\n            onSubmit={this.handleOnSubmit}\r\n          >\r\n            <label className=\"form__label\" htmlFor=\"name\">\r\n              Name\r\n            </label>\r\n            <input\r\n              className=\"form__input\"\r\n              onChange={this.handleChange}\r\n              value={this.state.name}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n            />\r\n\r\n            <label className=\"form__label\" htmlFor=\"description\">\r\n              Description\r\n            </label>\r\n\r\n            <div className=\"form-group\">\r\n            <textarea\r\n              className=\"brewery__description\"\r\n              id=\"description\"\r\n              type=\"text\"\r\n              name=\"description\"\r\n              value={this.state.comment}\r\n              placeholder=\"Describe this home of beer\"\r\n              onChange={this.handleChange}\r\n            ></textarea>\r\n          </div>\r\n                   \r\n            <label className=\"form__label\" htmlFor=\"name\">\r\n              Website\r\n            </label>\r\n            <input\r\n              className=\"form__input\"\r\n              onChange={this.handleChange}\r\n              value={this.state.website}\r\n              type=\"text\"\r\n              name=\"website\"\r\n              id=\"website\"\r\n            />\r\n\r\n\r\n            <label className=\"form__label\" htmlFor=\"year\">\r\n                Brewery established in\r\n              </label>\r\n              <input\r\n                className=\"form__input-small\"\r\n                onChange={this.handleChange}\r\n                value={this.state.establisheddate}\r\n                type=\"number\"\r\n                name=\"establisheddate\"\r\n                id=\"establisheddate\"\r\n              />\r\n\r\n            <label className=\"form__label\" htmlFor=\"rating\">\r\n                Star rating\r\n            </label>\r\n\r\n            <ReviewRating setRate={this.handleAddStars} />\r\n\r\n            <label className=\"form__label\" htmlFor=\"address\">\r\n                Address search\r\n            </label>\r\n\r\n            <AddressSearch onSelect={this.handleAddressSelect} />\r\n\r\n            <div className=\"newbeer__image-output\">\r\n              <UploadWidget\r\n                ref={this.imageRef}\r\n                onFileSelect={this.handleFileSelect}\r\n                name=\"image\"\r\n              >\r\n                Upload image\r\n              </UploadWidget>\r\n\r\n              <div className=\"flex-center\">\r\n                {!this.state.tmpUrl ? (\r\n                  \"\"\r\n                ) : (\r\n                  <img className=\"upload__image\" src={this.state.tmpUrl} alt=\"beer\" />\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <button className=\"btn-submit\">ADD</button>\r\n          </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateBrewery;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import Button from \"../Button\";\r\nimport Button from '../Button'\r\nimport UploadWidget from \"../UploadWidget\";\r\nimport FeedBack from \"../FeedBack\";\r\nimport apiHandler from \"../../API/apiHandler\";\r\nimport UserContext from \"../Auth/UserContext\";\r\nimport AddressSearch from \"../AddressSearch\";\r\nimport ReviewRating from \"../Reviews/ReviewRating\";\r\nimport { buildFormData } from \"../../utils\";\r\n// import \"../../styles/form.css\";\r\n\r\nclass UpdateBrewery extends Component {\r\n  static contextType = UserContext \r\n\r\n  state = {\r\n    httpResponse: null,\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n  formRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      brewery: this.props.brewery,\r\n      isLoading: false\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const value =\r\n      event.target.type === \"file\" ? event.target.files[0] : event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    \r\n    const fd = new FormData();\r\n\r\n    const { httpRespons, ... data } = this.state;\r\n    \r\n    buildFormData(fd, data)\r\n\r\n    apiHandler\r\n      .editBrewery(this.props.brewery._id, fd)\r\n      .then((data) => {\r\n        \r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"success\",\r\n            message: \"beer successfully updated.\",\r\n          },\r\n        });\r\n\r\n        \r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n\r\n        \r\n        this.props.handleChange(data)\r\n        this.props.handleClose()\r\n\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"failure\",\r\n            message:\r\n              \"Something bad happened while updating your beer, try again later\",\r\n          },\r\n        });\r\n\r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  // select image\r\n\r\n  handleFileSelect = (tempURL, file) => {\r\n    this.setState({ image: file });\r\n  };\r\n\r\n // select brewery\r\n\r\n handleAddressSelect = (location) => {\r\n\r\n  this.setState({\r\n      address: location.place_name,\r\n      longitude: location.geometry.coordinates[0],\r\n      latitude: location.geometry.coordinates[1],\r\n  });\r\n};\r\n// select stars \r\n\r\nhandleAddStars = (rating) => {\r\n  this.setState({\r\n      rating: rating\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n\r\n\r\n    const { httpResponse } = this.state;\r\n\r\n    const {\r\n      name,\r\n      description,\r\n      website,\r\n      breweryname,\r\n      establisheddate,\r\n      address,\r\n      latitude,\r\n      longitude,\r\n      rating,\r\n      _id,\r\n\r\n    } = this.props.brewery;\r\n\r\n   \r\n\r\n    return (\r\n      <section className=\"form-section\">\r\n        <form autoComplete=\"off\" className=\"form\" onSubmit={this.handleSubmit}>\r\n          <h1 className=\"header\">Edit this brewery <span onClick={this.props.handleClose}>X</span></h1>\r\n\r\n          <div className=\"round-image widget-image\">\r\n            <img\r\n              src={this.state.tmpUrl || this.props.brewery.image}\r\n              alt={name}\r\n            />\r\n          </div>\r\n          <div className=\"form-group-uploadwidget\">\r\n            <UploadWidget\r\n              // ref={this.imageRef}\r\n              onFileSelect={this.handleFileSelect}\r\n              name=\"image\"\r\n            >\r\n              Change image\r\n            </UploadWidget>\r\n          </div>\r\n\r\n          {httpResponse && (\r\n            <FeedBack\r\n              message={httpResponse.message}\r\n              status={httpResponse.status}\r\n            />\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              className=\"input\"\r\n              id=\"name\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              onChange={this.handleChange}\r\n              defaultValue={name}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n         \r\n            <textarea\r\n              className=\"input\"\r\n              id=\"description\"\r\n              type=\"text\"\r\n              name=\"description\"\r\n              defaultValue={description}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <ReviewRating setRate={this.handleAddStars} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <h2>Current brewery address: {address}</h2>\r\n            <AddressSearch onSelect={this.handleAddressSelect} />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n                  className=\"form__input\"\r\n                  onChange={this.handleChange}\r\n                  defaultValue={website}\r\n                  type=\"text\"\r\n                  name=\"website\"\r\n                  id=\"website\"\r\n                />\r\n           </div>\r\n          <div className=\"form-group\">\r\n           \r\n            <input\r\n              className=\"input\"\r\n              id=\"establisheddate\"\r\n              type=\"number\"\r\n              name=\"establisheddate\"\r\n              onChange={this.handleChange}\r\n              defaultValue={establisheddate}\r\n            />\r\n         \r\n          </div>\r\n          <Button primary>\r\n            Save\r\n          </Button>\r\n        </form>\r\n\r\n       \r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UpdateBrewery);","import React, { Component } from \"react\";\r\nimport apiHandler from '../../API/apiHandler'\r\n// import withUser from '../Components/Auth/withUser'\r\nimport UpdateBrewery from './UpdateBrewery'\r\nimport Rating from '../../Components/Rating'\r\nimport '../../Styles/BreweryDetails.css'\r\nimport BeerList from \"../Beers/BeerList\";\r\n\r\nexport class BreweryDetails extends Component {\r\n\r\n    state = {\r\n      brewery: null,\r\n      breweryBeers: null,\r\n      beerList: false,\r\n      showSettings: false,\r\n    };\r\n\r\n\r\n  componentDidMount() {\r\n    this.setState({brewery: this.props.brewery})\r\n    const breweryId = this.props.brewery._id\r\n \r\n    // get brewery beers\r\n\r\n    apiHandler\r\n    .getBreweryBeers(breweryId)\r\n    .then(response => {\r\n      console.log(response);\r\n      this.setState({breweryBeers: response})\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  handleAddBeer = () => {\r\n    apiHandler\r\n      .addUserBeer(this.beerId)\r\n      .then(response => {\r\n        console.log(\"success\");\r\n        this.setState({alreadyDrunk: !this.state.alreadyDrunk})\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleRemoveBeer = () => {\r\n    apiHandler\r\n      .removeUserBeer(this.beerId)\r\n      .then(response => {\r\n        console.log(\"success\");\r\n        this.setState({\r\n          alreadyDrunk: !this.state.alreadyDrunk,\r\n          reviewForm: false,\r\n          imageForm: false,\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleBeerList = () => {\r\n    this.setState({beerList: true})\r\n  }\r\n\r\n  handleDescription = () => {\r\n    this.setState({beerList: false})\r\n  }\r\n\r\n  handleShowSettings = () => {\r\n    this.setState({\r\n      showSettings: !this.state.showSettings\r\n    })\r\n  }\r\n\r\n  handleBreweryChange = (newBrewery) => {\r\n    this.setState({\r\n      brewery: newBrewery\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    \r\n    if (this.state.brewery === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    if (this.state.breweryBeers === null) {\r\n      return <div>One sec, just heading to the bar...</div>;\r\n    }\r\n\r\n    const brewery = this.state.brewery\r\n\r\n    return (\r\n      <div className=\"brewDetails__main\">\r\n\r\n        <div className=\"brewDetails__box\">\r\n        \r\n           \r\n          <div className=\"brewDetails__top-box\">\r\n            <div className=\"brewDetails__image-box\">\r\n              <img\r\n                className=\"brewDetails__image\"\r\n                src={brewery.image}\r\n                alt=\"brewery\"\r\n                />\r\n            </div>\r\n            <div className=\"brewDetails__info-box\">\r\n              <h1 className=\"beername\">{brewery.name}</h1>\r\n              <h5>Established in {brewery.establisheddate}</h5>\r\n              <div className=\"details__rating\" >\r\n                <Rating rating={brewery.rating}/>\r\n              </div>\r\n              <p> <a target=\"_blank\" href={brewery.website}>{brewery.website}</a></p>\r\n              <p className=\"settings\">{brewery.address}</p>\r\n              <h4 className=\"settings\" onClick={this.handleShowSettings}>settings</h4>\r\n              \r\n            </div>\r\n          </div>  \r\n          \r\n          {this.state.showSettings && (\r\n                <div className=\"overflow settings-box\">              \r\n                  <UpdateBrewery brewery={this.state.brewery} handleChange={this.handlebreweryChange} handleClose={this.handleShowSettings}/>\r\n                </div>\r\n              )}   \r\n          <div className=\"details__canned-options\">\r\n            <div onClick={this.handleDescription} className={`${this.state.beerList && \"active\"} flex-center details__link-bar-links`}><h2>Details</h2></div>\r\n            <div onClick={this.handleBeerList} className={`${this.state.beerList || \"active\"} flex-center details__link-bar-links`}><h2>Beers</h2></div>\r\n        </div>\r\n        <div className=\"brewDetails__bottom-box overflow\">\r\n\r\n            {this.state.beerList ? (\r\n              <div>\r\n                <BeerList beerList={this.state.breweryBeers}/>\r\n              </div>\r\n            )\r\n            : (<div className=\"details__description\">\r\n              <p>{brewery.description}</p>\r\n            </div> )}   \r\n\r\n        </div>\r\n        <div onClick={this.props.closePopUp}><h2 className=\"thin back-to\">back to map</h2></div>\r\n\r\n                \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BreweryDetails;\r\n","import React, { Component } from \"react\";\r\nimport MapComponent from \"../Components/MapComponent\";\r\nimport apiHandler from \"../API/apiHandler\";\r\nimport withUser from '../Components/Auth/withUser'\r\nimport CreateBrewery from '../Components/Breweries/CreateBrewery'\r\nimport axios from 'axios'\r\nimport BrewSearchBar from \"../Components/BrewSearchBar\";\r\nimport BreweryDetails from \"../Components/Breweries/BreweryDetails\";\r\n// import BrewSearchBar from \"../Components/BrewSearchBar\";\r\nimport \"../Styles/MapPage.css\";\r\n\r\n\r\n\r\nexport class MapPage extends Component {\r\n\r\n  userCity = this.props.context.user.city\r\n\r\n  state = {\r\n    breweries: null,\r\n    selectedBrewery: null,\r\n    userCity: this.userCity,\r\n    longitude: null,\r\n    latitude: null,\r\n    showForm: false,\r\n    showDetails: false,\r\n    showName: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n\r\n\r\n    apiHandler\r\n      .getBreweries()\r\n      .then((deRes) => {\r\n        // console.log(deRes);\r\n        this.setState({ breweries: deRes });\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n         // https://docs.mapbox.com/api/search/geocoding\r\n    \r\n    axios\r\n    .get(\r\n      `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.userCity}.json?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`\r\n    )\r\n    .then((response) => {\r\n      const result = response.data.features[0];\r\n      console.log(result);\r\n      this.setState({\r\n        longitude: result.geometry.coordinates[0],\r\n        latitude: result.geometry.coordinates[1],\r\n      })\r\n    });\r\n  }\r\n\r\n  handleShowDetails = () => {\r\n    this.setState({\r\n      showDetails: !this.state.showDetails,\r\n      showName: false,\r\n    });\r\n  };\r\n\r\n\r\n  handleBrewerySelect = (brewery) => {\r\n    this.setState({\r\n      breweryClicked: brewery,\r\n      longitude: brewery.longitude,\r\n      latitude: brewery.latitude,\r\n      showName: true,\r\n    });\r\n  };\r\n\r\n  handleMarkerClick = (brewery) => {\r\n    console.log(brewery);\r\n\r\n    this.setState({\r\n      longitude: brewery.longitude,\r\n      latitude: brewery.latitude,\r\n      breweryClicked: brewery,\r\n      showName: true,\r\n    });\r\n  };\r\n\r\n\r\n  handleShowForm = () => {\r\n    this.setState({\r\n      showForm: !this.state.showForm,\r\n      showName: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    if (this.state.breweries === null) {\r\n      return <div>fetching your brewery map</div>;\r\n    }\r\n\r\n    if (this.state.userCity === null) {\r\n      return <div>fetching your brewery map</div>;\r\n    }\r\n\r\n    if (this.state.longitude === null) {\r\n      return <div>fetching your brewery map</div>;\r\n    }\r\n\r\n    if (this.state.latitude === null) {\r\n      return <div>fetching your brewery map</div>;\r\n    }\r\n\r\n    console.log(this.state);\r\n\r\n    return (\r\n      <div>\r\n        \r\n        {this.state.showForm &&\r\n        <div className=\"map__brewery-form\">\r\n          <CreateBrewery />\r\n        </div>}\r\n        {this.state.showName && (\r\n        <div\r\n          onClick={this.handleShowDetails}\r\n          className=\"flex-center map__showname-box\"\r\n        >\r\n          <h3>{this.state.breweryClicked.name}</h3>\r\n        </div>\r\n        )}\r\n        {this.state.showDetails && (\r\n          <div className=\"map__show-details-box\">\r\n            <BreweryDetails\r\n              closePopUp={this.handleShowDetails}\r\n              brewery={this.state.breweryClicked}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"map__search-box\">\r\n          <BrewSearchBar onSelect={this.handleBrewerySelect} />\r\n          <h4 className=\"showform\" onClick={this.handleShowForm}>Can't find your brewery? Add it here</h4>\r\n        </div>\r\n        <div className=\"map__map-container\">\r\n          <MapComponent markerClick={this.handleMarkerClick} breweryList={this.state.breweries} longitude={this.state.longitude} latitude={this.state.latitude}  />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(MapPage);\r\n","import React, { Component } from \"react\";\r\nimport SearchBar from \"../Components/SearchBar\";\r\nimport ReviewRating from \"../Components/Reviews/ReviewRating\";\r\nimport UploadWidget from \"../Components/UploadWidget\";\r\nimport UserContext from \"../Components/Auth/UserContext\";\r\nimport BrewSearchBar from \"../Components/BrewSearchBar\";\r\nimport \"../Styles/NewBeer.css\";\r\nimport apiHandler from \"../API/apiHandler\";\r\n// import apiHandler from '../API/apiHandler'\r\n\r\nexport class NewBeer extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    showSearch: false,\r\n    showForm: false,\r\n    selectedBeer: null,\r\n    rating: null,\r\n    name: \"\",\r\n    description: \"\",\r\n    abv: 0,\r\n    breweryname: \"\",\r\n    breweryid: null,\r\n    releasedate: 2021,\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const name = event.target.name;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleFormClick = () => {\r\n    this.setState({ showForm: !this.state.showForm });\r\n  };\r\n\r\n  handleSearchClick = () => {\r\n    this.setState({ showSearch: !this.state.showSearch });\r\n    if (this.state.showForm) this.setState({ showForm: false });\r\n  };\r\n\r\n  handleOnSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const fd = new FormData();\r\n\r\n    for (const key in this.state) {\r\n      if (key === \"image\") continue;\r\n      fd.append(key, this.state[key]);\r\n    }\r\n\r\n    for (var pair of fd.entries()) {\r\n      console.log(pair[0] + \", \" + pair[1]);\r\n    }\r\n\r\n    if (this.imageRef.current.files[0]) {\r\n      fd.append(\"image\", this.imageRef.current.files[0]);\r\n    }\r\n\r\n    apiHandler\r\n      .CreateBeer(fd)\r\n      .then((data) => {\r\n        //log success\r\n\r\n        console.log(\"success\", data);\r\n\r\n        //add beer to the user list\r\n\r\n        apiHandler\r\n          .addUserBeer(data._id)\r\n          .then((response) => {\r\n            console.log(\"success\", response);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n\r\n        // reset state\r\n\r\n        this.setState({\r\n          rating: null,\r\n          name: \"\",\r\n          description: \"\",\r\n          abv: 0,\r\n          breweryname: \"\",\r\n          breweryid: null,\r\n          releasedate: 2021,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  handleFileSelect = (temporaryURL) => {\r\n    // Get the temporaryURL from the UploadWidget component and\r\n    // set the state so we can have a visual feedback on what the image will look like :)\r\n    this.setState({ tmpUrl: temporaryURL });\r\n  };\r\n\r\n  handleBeerSelect = (beer) => {\r\n    this.setState({\r\n      selectedBeer: beer,\r\n      showSearch: false,\r\n      showForm: false\r\n    });\r\n\r\n    apiHandler\r\n    .addUserBeer(beer._id)\r\n    .then(response => {\r\n        console.log(\"success\", response);\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n    })\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n  handleBrewerySelect = (brewery) => {\r\n    this.setState({\r\n      breweryname: brewery.name,\r\n      breweryid: brewery._id,\r\n    });\r\n  };\r\n\r\n  handleAddStars = (rating) => {\r\n    this.setState({ rating: rating });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state);\r\n\r\n    return (\r\n      <div className=\"newbeer__main\">\r\n        <div className=\"newbeer__link flex-center\">\r\n          <h1 className=\"\" onClick={this.handleSearchClick}>\r\n            {\" \"}\r\n            {!this.state.showSearch ? \"+\" : \"-\"} Add Beer\r\n          </h1>\r\n        </div>\r\n\r\n        <div>\r\n          {this.state.showSearch && (\r\n            <div className=\"newbeer__search flex-center\">\r\n              <SearchBar onSelect={this.handleBeerSelect} />\r\n              <h4 onClick={this.handleFormClick}>\r\n                {!this.state.showForm ? \"+\" : \"-\"} can't find it? Let's add it\r\n                to the Canniverse\r\n              </h4>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {this.state.showForm && (\r\n          <form\r\n            className=\"form newbeer__activeform\"\r\n            onSubmit={this.handleOnSubmit}\r\n          >\r\n            <label className=\"form__label\" htmlFor=\"name\">\r\n              Name\r\n            </label>\r\n            <input\r\n              className=\"form__input\"\r\n              onChange={this.handleChange}\r\n              value={this.state.name}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n            />\r\n\r\n            <label className=\"form__label\" htmlFor=\"description\">\r\n              Description\r\n            </label>\r\n            <textarea\r\n              className=\"form__input\"\r\n              onChange={this.handleChange}\r\n              value={this.state.description}\r\n              type=\"text\"\r\n              name=\"description\"\r\n              id=\"description\"\r\n            ></textarea>\r\n\r\n            <div className=\"newbeer__small-details\">\r\n              <label className=\"abv__label\" htmlFor=\"abv\">\r\n                ABV\r\n              </label>\r\n              <input\r\n                className=\"form__input\"\r\n                onChange={this.handleChange}\r\n                value={this.state.abv}\r\n                type=\"number\"\r\n                name=\"abv\"\r\n                id=\"abv\"\r\n              />\r\n\r\n              <label className=\"year__label\" htmlFor=\"year\">\r\n                Release date\r\n              </label>\r\n              <input\r\n                className=\"form__input\"\r\n                onChange={this.handleChange}\r\n                value={this.state.releasedate}\r\n                type=\"number\"\r\n                name=\"releasedate\"\r\n                id=\"releasedate\"\r\n              />\r\n\r\n              <ReviewRating setRate={this.handleAddStars} />\r\n            </div>\r\n\r\n            <BrewSearchBar onSelect={this.handleBrewerySelect} />\r\n\r\n            <div className=\"newbeer__image-output\">\r\n              <UploadWidget\r\n                ref={this.imageRef}\r\n                onFileSelect={this.handleFileSelect}\r\n                name=\"image\"\r\n              >\r\n                Upload image\r\n              </UploadWidget>\r\n\r\n              <div className=\"newbeer__image\">\r\n                {!this.state.tmpUrl ? (\r\n                  \"\"\r\n                ) : (\r\n                  <img src={this.state.tmpUrl} alt=\"beer\" />\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <button className=\"form__button\">ADD NEW</button>\r\n          </form>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewBeer;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"../../Button\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport UploadWidget from \"../../UploadWidget\";\r\nimport FeedBack from \"../../FeedBack\";\r\nimport apiHandler from \"../../../API/apiHandler\";\r\nimport UserContext from \"../../Auth/UserContext\";\r\n// import \"../../styles/form.css\";\r\n\r\nclass UpdateUser extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    userName: null,\r\n    email: null,\r\n    city: null,\r\n    tmpUrl: \"\",\r\n    httpResponse: null,\r\n    isLoading: true,\r\n\r\n  };\r\n\r\n  imageRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .getUser()\r\n      .then((data) => {\r\n        this.setState({ \r\n          userName: data.userName, \r\n          email: data.email, \r\n          city: data.city, \r\n          isLoading: false \r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          isLoading: false,\r\n          httpResponse: {\r\n            status: \"failure\",\r\n            message: \"Something bad happened, please try again later\",\r\n          },\r\n        });\r\n      });\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const key = event.target.name;\r\n    const value = event.target.value;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  isValidInput = (key) => {\r\n    if (this.state[key] === \"\") {\r\n      return false;\r\n    } else return true;\r\n  };\r\n\r\n  checkError = () => {\r\n    for (const key in this.state) {\r\n      if (this.state[key] === \"\") {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const fd = new FormData();\r\n\r\n    for (const key in this.state) {\r\n      // if (key === \"profileImg\") continue;\r\n      fd.append(key, this.state[key]);\r\n    }\r\n\r\n    // if (this.imageRef.current.files[0]) {\r\n    //   fd.append(\"profileImg\", this.imageRef.current.files[0]);\r\n    // }\r\n\r\n    apiHandler\r\n      .editUser(fd)\r\n      .then(() => {\r\n        \r\n        apiHandler.getUser()\r\n        .then( user => {\r\n            this.context.setUser(user)\r\n        })\r\n\r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"success\",\r\n            message: \"Profile successfully updated.\",\r\n          },\r\n        });\r\n\r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          httpResponse: {\r\n            status: \"failure\",\r\n            message:\r\n              \"Something bad happened while updating your profile, try again later\",\r\n          },\r\n        });\r\n\r\n        this.timeoutId = setTimeout(() => {\r\n          this.setState({ httpResponse: null });\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  handleDeleteUser = () => {\r\n    apiHandler\r\n    .deleteUser()\r\n    .then(response => {\r\n      console.log(\"success\", response);\r\n      this.props.history.push(\"/\")\r\n    })\r\n    .catch(err => {console.log(err)})\r\n    \r\n  }\r\n  // handleFileSelect = (temporaryURL) => {\r\n  //   this.setState({ tmpUrl: temporaryURL });\r\n  // };\r\n\r\n  render() {\r\n    const { httpResponse } = this.state;\r\n    \r\n    if (this.state.isLoading) return <div>Loading...</div>;\r\n    console.log();\r\n\r\n    return (\r\n      <section className=\"form-section\">\r\n        <form autoComplete=\"off\" className=\"form\" onSubmit={this.handleSubmit}>\r\n          <h1 className=\"header\">Edit your profile</h1>\r\n\r\n          {/* <div className=\"round-image user-image\">\r\n            <img\r\n              src={this.state.tmpUrl || this.state.user.profileImg}\r\n              alt={this.state.user.userName}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <UploadWidget\r\n              ref={this.imageRef}\r\n              onFileSelect={this.handleFileSelect}\r\n              name=\"profileImg\"\r\n            >\r\n              Change profile image\r\n            </UploadWidget>\r\n          </div> */}\r\n\r\n          {httpResponse && (\r\n            <FeedBack\r\n              message={httpResponse.message}\r\n              status={httpResponse.status}\r\n            />\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              className=\"input\"\r\n              id=\"userName\"\r\n              type=\"text\"\r\n              name=\"userName\"\r\n              onChange={this.handleChange}\r\n              value={this.state.userName}\r\n            />\r\n            {!this.isValidInput(\"userName\") && (\r\n              <p className=\"input-error\">Invalid input</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n         \r\n            <input\r\n              className=\"input\"\r\n              id=\"email\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={this.state.email}\r\n              disabled\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n           \r\n            <input\r\n              className=\"input\"\r\n              id=\"city\"\r\n              type=\"text\"\r\n              name=\"city\"\r\n              onChange={this.handleChange}\r\n              value={this.state.city}\r\n            />\r\n            {!this.isValidInput(\"city\") && (\r\n              <p className=\"input-error\">Invalid input</p>\r\n            )}\r\n          </div>\r\n          <Button primary >\r\n            Save\r\n          </Button>\r\n        </form>\r\n\r\n        {/* <h3>Or, if you're sure... <b onClick={this.handleDeleteUser}>delete</b> this account</h3> */}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UpdateUser);","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import Button from \"../Button\";\r\nimport Button from \"../Button\";\r\nimport apiHandler from \"../../API/apiHandler\";\r\nimport UserContext from \"../Auth/UserContext\";\r\nimport ReviewRating from \"../Reviews/ReviewRating\";\r\n// import { buildFormData } from \"../../utils\";\r\nimport '../../Styles/Forms.css'\r\n\r\nclass UpdateBrewery extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n   const review = this.props.review;\r\n    this.setState({\r\n      userid: review.userid,\r\n      beerid: review.beerid,\r\n      beername: review.beername, \r\n      breweryid: review.breweryid,\r\n      rating: review.rating,\r\n      comment: review.comment,\r\n    });\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const key = event.target.name;\r\n    this.setState({ [key]: value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const { \r\n        userid,\r\n        beerid,\r\n        beername,\r\n        breweryid,\r\n        rating,\r\n        comment } = this.state;\r\n\r\n    const reviewUpdate = { \r\n        userid,\r\n        beerid,\r\n        beername,\r\n        breweryid,\r\n        rating,\r\n        comment }\r\n\r\n        console.log(reviewUpdate);\r\n\r\n    apiHandler\r\n      .editReview(this.props.review._id, reviewUpdate)\r\n      .then((data) => {\r\n        console.log(\"success\", data);\r\n        this.props.handleClose();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  // select stars\r\n\r\n  handleAddStars = (rating) => {\r\n    this.setState({\r\n      rating: rating,\r\n    });\r\n  };\r\n\r\n  handleDeleteBeer = (reviewId) => {\r\n    apiHandler\r\n    .deleteReview(reviewId)\r\n    .then(response => {\r\n      console.log(\"success\", response);\r\n      this.props.handleClose();\r\n      this.props.history.push(\"/profile\")\r\n    })\r\n    .catch(err => {console.log(err)})\r\n    \r\n  }\r\n\r\n  render() {\r\n  \r\n\r\n    return (\r\n      <section className=\"reivew__form-main\">\r\n        <form autoComplete=\"off\" className=\"reivew__form\" onSubmit={this.handleSubmit}>\r\n          <h1 className=\"header\">\r\n            Edit your review <span onClick={this.props.handleClose}>X</span>\r\n          </h1>\r\n\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              className=\"input\"\r\n              id=\"comment\"\r\n              type=\"text\"\r\n              name=\"comment\"\r\n              onChange={this.handleChange}\r\n              defaultValue={this.state.comment}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <ReviewRating setRate={this.handleAddStars} />\r\n          </div>\r\n\r\n          <Button primary>Save</Button>\r\n        </form>\r\n\r\n        <h3>Or, if you're sure... <b onClick={() => this.handleDeleteReview(this.props.review._id)}>delete</b> this review</h3>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UpdateBrewery);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport withUser from \"../Components/Auth/withUser\";\r\nimport NewBeer from \"./NewBeer\";\r\nimport UpdateUser from \"../Components/User/Forms/UpdateUser\";\r\nimport UpdateReview from \"../Components/Reviews/UpdateReview\";\r\nimport \"../Styles/Profile.css\";\r\n// import \"../styles/CardItem.css\";\r\nimport apiHandler from \"../API/apiHandler\";\r\nimport ImageScroller from \"../Components/ImageScroller\";\r\n\r\nclass Profile extends Component {\r\n  // authContext = this.props.context\r\n\r\n  state = {\r\n    user: null,\r\n    beers: null,\r\n    images: null,\r\n    reviews: null,\r\n    beerCount: null,\r\n    reviewCLicked: null,\r\n    showSettings: false,\r\n    reviewEdit: false,\r\n    imageBox: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { context } = this.props;\r\n    const { user } = context;\r\n\r\n    this.setState({ user: user });\r\n\r\n    // get user beers\r\n\r\n    apiHandler\r\n      .getUserBeers()\r\n      .then((dbRes) => {\r\n        this.setState({\r\n          beers: dbRes,\r\n          beerCount: dbRes.length,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    // get user reviews\r\n\r\n    apiHandler\r\n      .getUserReviews()\r\n      .then((dbRes) => {\r\n\r\n        const list = [...dbRes]\r\n\r\n        list.sort((a,b)=> {\r\n          return b.updated_at - a.updated_at\r\n        })\r\n\r\n        this.setState({reviews: list});\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    // get user images\r\n\r\n    apiHandler\r\n      .getUserImages()\r\n      .then((dbRes) => {\r\n        const list = [...dbRes]\r\n\r\n        list.sort((a,b)=> {\r\n          return b.updated_at - a.updated_at\r\n        })\r\n\r\n        this.setState({images: list});\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  handleShowPhoto = () => {\r\n    this.setState({\r\n      imageBox: !this.state.imageBox\r\n    })\r\n  }\r\n  handleNextPhoto = () => {\r\n    this.setState({ imageNumber: this.state.imageNumber + 1 });\r\n  };\r\n\r\n  handlePreviousPhoto = () => {\r\n    this.setState({ imageNumber: this.state.imageNumber - 1 });\r\n  };\r\n\r\n  handleReviewClicked = (review) => {\r\n    this.setState({\r\n      reviewCLicked: review,\r\n      reviewEdit: true,\r\n    });\r\n  };\r\n\r\n  handleReviewClose = () => {\r\n    this.setState({ reviewEdit: false });\r\n  };\r\n\r\n  handleShowSettings = () => {\r\n  this.setState({\r\n    showSettings: !this.state.showSettings,\r\n  });\r\n  };\r\n\r\n  handleLogout = () => {\r\n    const { context } = this.props;\r\n    \r\n    apiHandler\r\n      .logout()\r\n      .then(() => {\r\n        context.removeUser();\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n \r\n\r\n  render() {\r\n    if (this.state.user === null) {\r\n      return <div>loading...</div>;\r\n    }\r\n\r\n    if (this.state.images === null) {\r\n      return <div>loading...</div>;\r\n    }\r\n\r\n    if (this.state.reviews === null) {\r\n      return <div>loading...</div>;\r\n    }\r\n\r\n    if (this.state.beers === null) {\r\n      return <div>loading...</div>;\r\n    }\r\n\r\n    console.log(this.state);\r\n\r\n    //latest photos/reviews/beers\r\n\r\n    const user = this.state.user;\r\n    const reviews = this.state.reviews.slice(0, 3);\r\n\r\n    return (\r\n      <div className=\"flex-center profile__main\">\r\n        {/* add beer search and form */}\r\n\r\n        <NewBeer />\r\n\r\n        {/* Profile Header */}\r\n        <div className=\"flex-center profile__header\">\r\n          <h1>Welcome {user.userName} </h1>\r\n          <p onClick={this.handleShowSettings}>settings</p>\r\n          <h2>{user.city}</h2>\r\n          <h2>Beer count: {this.state.beerCount}</h2>\r\n          <Link exact to=\"/user-beer\">\r\n            <h3>Check your beers</h3>\r\n          </Link>\r\n        </div>\r\n        {/* settings */}\r\n\r\n        {this.state.showSettings && (\r\n          <div className=\"flex-center profile__settings-box\">\r\n            <h2 onClick={this.handleLogout}>Logout</h2>\r\n            <h2>Update your profile</h2>\r\n            <UpdateUser handleClose={this.handleShowSettings} />\r\n          </div>\r\n        )}\r\n\r\n        {/* Image scroller */}\r\n\r\n\r\n        <h1>latest images</h1>\r\n        <ImageScroller imagesList={this.state.images} onSelect={this.handleShowPhoto}/>\r\n        \r\n        {/* Review list */}\r\n\r\n        <h1>latest reviews</h1>\r\n        {this.state.reviewEdit && (\r\n          <div className=\"flex-center profile__settings-box\">\r\n            <h2>Update this comment</h2>\r\n            <UpdateReview\r\n              review={this.state.reviewCLicked}\r\n              handleClose={this.handleReviewClose}\r\n            />\r\n          </div>\r\n        )}\r\n        <ul>\r\n          {reviews.map((review) => (\r\n            <li>\r\n              <Link exact to={`/beer-detail/${review.beerid}`}>\r\n                <h3>\r\n                  {review.beername} score: {review.rating}\r\n                </h3>\r\n              </Link>\r\n              <h4 onClick={() => this.handleReviewClicked(review)}>edit</h4>\r\n              <p>{review.comment}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(Profile);\r\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport UserContext from './Components/Auth/UserContext';\n// import axios from 'axios';\nimport NavMain from './Components/NavMain'\nimport SignInPage from './Views/SignIn';\nimport SignUpPage from './Views/SignUp';\nimport Beers from './Views/Beers';\n// import NewBeer from './Views/NewBeer';\n// import UpdateBeer from './Views/UpdateBeer';\nimport Lost from './Views/Lost'\nimport BeerDetails from './Views/BeerDetails';\nimport UserBeers from './Views/UserBeers';\n// import api from './API/apiHandler';\nimport Home from './Views/Home'\nimport MapPage from './Views/MapPage';\nimport Profile from './Views/Profile';\n\nimport './App.css';\n\n\n\n\nexport class App extends Component {\n  static contextType = UserContext\n \n  state = {\n    user: null, \n    isLoggedIn: false,\n    loading: true,\n  }\n\n  componentDidMount() {\n    \n  }\n  \n\n  render() {\n\n    // if (!this.context.isLoggedIn) {\n    //   return <div>loading user...</div>\n    // }\n\n    \n\n    return (\n\n\n      <div className=\"App\">\n        \n      \n        <div className=\"app__main-block overflow\">\n\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/signin\" component={SignInPage} />\n          <Route exact path=\"/signup\" component={SignUpPage} />\n          <Route exact path=\"/beer\" component={Beers} />\n          <Route exact path=\"/user-beer\" component={UserBeers} />\n          <Route exact path=\"/beer-detail/:id\" component={BeerDetails} />\n          {/* <Route exact path=\"/beer-add\" component={NewBeer} /> */}\n          <Route exact path=\"/map\" component={MapPage} />\n          <Route exact path=\"/profile\" component={Profile} />\n\n          {/* \n          <Route exact path=\"/beers/:id\" component={BeerDetails} />\n          <Route exact path=\"/beers/edit/:id\" component={UpdateBeer} /> */}\n          <Route exact path=\"*\" component={Lost} />\n        </Switch>\n        \n        </div>\n      \n\n        <NavMain />\n        \n      </div>\n    );\n  }\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport UserContext from \"./UserContext\";\r\nimport apiHandler from \"../../API/apiHandler\";\r\n\r\nclass UserProvider extends React.Component {\r\n  state = {\r\n    user: null,\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .isLoggedIn()\r\n      .then((data) => {\r\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ isLoggedIn: false, isLoading: false });\r\n      });\r\n  }\r\n\r\n  removeUser = () => {\r\n    apiHandler.logout().then(() => {\r\n      this.setState({ user: null, isLoggedIn: false });\r\n    });\r\n  };\r\n\r\n  setUser = (userInfo) => {\r\n    this.setState({ user: userInfo, isLoggedIn: true });\r\n  };\r\n\r\n  render() {\r\n    const contextValue = {\r\n      user: this.state.user,\r\n      isLoggedIn: this.state.isLoggedIn,\r\n      isLoading: this.state.isLoading,\r\n      removeUser: this.removeUser,\r\n      setUser: this.setUser,\r\n    };\r\n\r\n    return (\r\n      <UserContext.Provider value={contextValue}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default UserProvider;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom'\nimport reportWebVitals from './reportWebVitals';\nimport UserProvider from './Components/Auth/UserProvider';\n\n\nimport \"./Styles/reset.css\";\nimport \"./Styles/global.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <UserProvider>\n        <App /> \n      </UserProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}